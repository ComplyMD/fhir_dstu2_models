{
  "types": {
    "date": {
    },
    "dateTime": {
    },
    "code": {
    },
    "string": {
    },
    "integer": {
    },
    "oid": {
    },
    "uri": {
    },
    "uuid": {
    },
    "instant": {
    },
    "boolean": {
    },
    "base64Binary": {
    },
    "unsignedInt": {
    },
    "markdown": {
    },
    "time": {
    },
    "id": {
    },
    "positiveInt": {
    },
    "decimal": {
    },
    "Identifier": {
    },
    "Coding": {
    },
    "Reference": {
      "ref-1": {
        "path": "Reference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Signature": {
    },
    "SampledData": {
    },
    "Quantity": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "Period": {
      "per-1": {
        "path": "Period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "Attachment": {
      "att-1": {
        "path": "Attachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      }
    },
    "Ratio": {
      "rat-1": {
        "path": "Ratio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      }
    },
    "Range": {
      "rng-2": {
        "path": "Range",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      }
    },
    "Annotation": {
    },
    "CodeableConcept": {
    },
    "Extension": {
    },
    "BackboneElement": {
    },
    "Narrative": {
      "txt-3": {
        "path": "Narrative.div",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "txt-1": {
        "path": "Narrative.div",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "txt-2": {
        "path": "Narrative.div",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      }
    },
    "Element": {
      "ele-1": {
        "path": "Element",
        "severity": "error",
        "human": "All FHIR elements must have a @value or children",
        "xpath": "@value|f:*|h:div"
      }
    },
    "HumanName": {
    },
    "ContactPoint": {
      "cpt-2": {
        "path": "ContactPoint",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      }
    },
    "Meta": {
    },
    "Address": {
    },
    "Timing": {
      "tim-6": {
        "path": "Timing.repeat",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "tim-7": {
        "path": "Timing.repeat",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "tim-1": {
        "path": "Timing.repeat",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "tim-2": {
        "path": "Timing.repeat",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "tim-3": {
        "path": "Timing.repeat",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "tim-4": {
        "path": "Timing.repeat.duration",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "tim-5": {
        "path": "Timing.repeat.period",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      }
    },
    "ElementDefinition": {
      "eld-2": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Min <= Max",
        "xpath": "not(exists(f:min)) or not(exists(f:max)) or (not(f:max/@value) and not(f:min/@value)) or (f:max/@value = '*') or (f:max/@value >= f:min/@value)"
      },
      "eld-5": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Either a namereference or a fixed value (but not both) is permitted",
        "xpath": "not(exists(f:nameReference) and exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "eld-7": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Pattern may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or (count(f:type)=1 )"
      },
      "eld-6": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Fixed value may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or (count(f:type)=1 )"
      },
      "eld-11": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Binding can only be present for coded elements, string, and uri",
        "xpath": "not(exists(f:binding)) or (count(f:type/f:code) = 0) or  f:type/f:code/@value=('code','Coding','CodeableConcept','Quantity','Extension', 'string', 'uri')"
      },
      "eld-8": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Pattern and value are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or not(exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "eld-14": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Constraints must be unique by key",
        "xpath": "count(f:constraint) = count(distinct-values(f:constraint/f:key/@value))"
      },
      "eld-13": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "Types must be unique by the combination of code and profile",
        "xpath": "not(exists(for $type in f:type return $type/preceding-sibling::f:type[f:code/@value=$type/f:code/@value and f:profile/@value = $type/f:profile/@value]))"
      },
      "eld-15": {
        "path": "ElementDefinition",
        "severity": "error",
        "human": "default value and meaningWhenMissing are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or not(exists(f:meaningWhenMissing))"
      },
      "eld-1": {
        "path": "ElementDefinition.slicing",
        "severity": "error",
        "human": "If there are no discriminators, there must be a definition",
        "xpath": "(f:discriminator) or (f:definition)"
      },
      "eld-3": {
        "path": "ElementDefinition.max",
        "severity": "error",
        "human": "Max SHALL be a number or \"*\"",
        "xpath": "@value='*' or (normalize-space(@value)!='' and normalize-space(translate(@value, '0123456789',''))='')"
      },
      "eld-4": {
        "path": "ElementDefinition.type",
        "severity": "error",
        "human": "Aggregation may only be specified if one of the allowed types for the element is a resource",
        "xpath": "not(exists(f:aggregation)) or exists(f:code[@value = 'Reference'])"
      },
      "eld-10": {
        "path": "ElementDefinition.binding",
        "severity": "error",
        "human": "provide either a reference or a description (or both)",
        "xpath": "(exists(f:valueSetUri) or exists(f:valueSetReference)) or exists(f:description)"
      },
      "eld-9": {
        "path": "ElementDefinition.binding",
        "severity": "error",
        "human": "Example value sets are always extensible",
        "xpath": "not(f:conformance/@value='example' and f:isExtensible/@value='false')"
      },
      "eld-12": {
        "path": "ElementDefinition.binding.valueSet[x]",
        "severity": "error",
        "human": "uri SHALL start with http:// or https://",
        "xpath": "starts-with(@value, 'http:') or starts-with(@value, 'https:')"
      }
    },
    "Money": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "mny-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "There SHALL be a code if there is a value and it SHALL be an expression of currency.  If system is present, it SHALL be ISO 4217 (system = \"urn:iso:std:iso:4217\" - currency).",
        "xpath": "(f:code or not(f:value)) and (not(exists(f:system)) or f:system/@value='urn:iso:std:iso:4217')"
      }
    },
    "SimpleQuantity": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "sqty-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "The comparator is not used on a SimpleQuantity",
        "xpath": "not(exists(f:comparator))"
      }
    },
    "Duration": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "drt-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "There SHALL be a code if there is a value and it SHALL be an expression of time.  If system is present, it SHALL be UCUM.",
        "xpath": "(f:code or not(f:value)) and (not(exists(f:system)) or f:system/@value='http://unitsofmeasure.org')"
      }
    },
    "Count": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "cnt-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "There SHALL be a code with a value of \"1\" if there is a value and it SHALL be an expression of length.  If system is present, it SHALL be UCUM.  If present, the value SHALL a whole number.",
        "xpath": "(f:code or not(f:value)) and (not(exists(f:system)) or (f:system/@value='http://unitsofmeasure.org' and f:code/@value='1' )) and not(contains(f:value/@value, '.'))"
      }
    },
    "Distance": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "dis-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "There SHALL be a code if there is a value and it SHALL be an expression of length.  If system is present, it SHALL be UCUM.",
        "xpath": "(f:code or not(f:value)) and (not(exists(f:system)) or f:system/@value='http://unitsofmeasure.org')"
      }
    },
    "Age": {
      "qty-3": {
        "path": "Quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "age-1": {
        "path": "Quantity",
        "severity": "error",
        "human": "There SHALL be a code if there is a value and it SHALL be an expression of time.  If system is present, it SHALL be UCUM.  If value is present, it SHALL be positive.",
        "xpath": "(f:code or not(f:value)) and (not(exists(f:system)) or f:system/@value='http://unitsofmeasure.org') and not(contains(f:value/@value, '-'))"
      }
    }
  },
  "resources": {
    "ValueSet": {
      "vsd-7": {
        "path": "ValueSet",
        "severity": "error",
        "human": "A defined code system (if present) SHALL have a different identifier to the value set itself",
        "xpath": "not(f:codeSystem/f:system/@value = f:identifier/@value)"
      },
      "vsd-2": {
        "path": "ValueSet",
        "severity": "error",
        "human": "A value set with only one import SHALL also have an include and/or an exclude unless the value set includes and inline code system",
        "xpath": "not(exists(f:compose)) or (count(f:compose/f:import)!=1 or exists(f:compose/f:include) or exists(f:compose/f:exclude) or exists(f:codeSystem))"
      },
      "vsd-5": {
        "path": "ValueSet",
        "severity": "error",
        "human": "Value set SHALL contain at least one of a codeSystem, a compose, or an expansion element",
        "xpath": "exists(f:codeSystem) or exists(f:compose) or exists(f:expansion)"
      },
      "ValueSet.text-txt-3": {
        "path": "ValueSet.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ValueSet.text-txt-1": {
        "path": "ValueSet.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ValueSet.text-txt-2": {
        "path": "ValueSet.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ValueSet.contact.telecom-cpt-2": {
        "path": "ValueSet.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "vsd-8": {
        "path": "ValueSet.codeSystem",
        "severity": "error",
        "human": "Codes must be unique",
        "xpath": "count(descendant::f:concept)=count(distinct-values(descendant::f:concept/f:code/@value))"
      },
      "vsd-3": {
        "path": "ValueSet.codeSystem",
        "severity": "error",
        "human": "Within a code system definition, all the codes SHALL be unique",
        "xpath": "count(distinct-values(descendant::f:concept/f:code/@value))=count(descendant::f:concept)"
      },
      "vsd-1": {
        "path": "ValueSet.compose",
        "severity": "error",
        "human": "A value set composition SHALL have an include or an import",
        "xpath": "exists(f:include) or exists(f:import)"
      },
      "vsd-11": {
        "path": "ValueSet.compose.include",
        "severity": "error",
        "human": "Cannot have both concept and filter",
        "xpath": "not(exists(f:concept)) or not(exists(f:filter))"
      },
      "vsd-6": {
        "path": "ValueSet.expansion.contains",
        "severity": "error",
        "human": "SHALL have a code or a display",
        "xpath": "exists(f:code) or exists(f:display)"
      },
      "vsd-9": {
        "path": "ValueSet.expansion.contains",
        "severity": "error",
        "human": "Must have a code if not abstract",
        "xpath": "exists(f:code) or (f:abstract/@value = 'true')"
      },
      "vsd-10": {
        "path": "ValueSet.expansion.contains",
        "severity": "error",
        "human": "Must have a system if a code is present",
        "xpath": "exists(f:system) or not(exists(f:code))"
      }
    },
    "DomainResource": {
      "dom-2": {
        "path": "DomainResource",
        "severity": "error",
        "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
        "xpath": "not(parent::f:contained and f:contained)"
      },
      "dom-1": {
        "path": "DomainResource",
        "severity": "error",
        "human": "If the resource is contained in another resource, it SHALL NOT contain any narrative",
        "xpath": "not(parent::f:contained and f:text)"
      },
      "dom-4": {
        "path": "DomainResource",
        "severity": "error",
        "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
        "xpath": "not(exists(f:contained/f:meta/f:versionId)) and not(exists(f:contained/f:meta/f:lastUpdated))"
      },
      "dom-3": {
        "path": "DomainResource",
        "severity": "error",
        "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource",
        "xpath": "not(exists(for $id in f:contained/*/@id return $id[not(ancestor::f:contained/parent::*/descendant::f:reference/@value=concat('#', $id))]))"
      },
      "DomainResource.text-txt-3": {
        "path": "DomainResource.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DomainResource.text-txt-1": {
        "path": "DomainResource.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DomainResource.text-txt-2": {
        "path": "DomainResource.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      }
    },
    "Parameters": {
      "inv-1": {
        "path": "Parameters.parameter",
        "severity": "error",
        "human": "A parameter must have a value or a resource, but not both",
        "xpath": "exists(f:value) or exists(f:resource) and not(exists(f:value) and exists(f:resource))"
      },
      "Parameters.parameter.value[x]-att-1": {
        "path": "Parameters.parameter.valueAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Parameters.parameter.value[x]-qty-3": {
        "path": "Parameters.parameter.valueQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Parameters.parameter.value[x]-rng-2": {
        "path": "Parameters.parameter.valueRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Parameters.parameter.value[x]-per-1": {
        "path": "Parameters.parameter.valuePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Parameters.parameter.value[x]-rat-1": {
        "path": "Parameters.parameter.valueRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "Parameters.parameter.value[x]-cpt-2": {
        "path": "Parameters.parameter.valueContactPoint",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Parameters.parameter.value[x]-tim-6": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "Parameters.parameter.value[x]-tim-7": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "Parameters.parameter.value[x]-tim-1": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "Parameters.parameter.value[x]-tim-2": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "Parameters.parameter.value[x]-tim-3": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "Parameters.parameter.value[x]-tim-4": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "Parameters.parameter.value[x]-tim-5": {
        "path": "Parameters.parameter.valueTiming",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "Parameters.parameter.value[x]-ref-1": {
        "path": "Parameters.parameter.valueReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "inv-2": {
        "path": "Parameters.parameter.part",
        "severity": "error",
        "human": "A part must have a value or a resource, but not both",
        "xpath": "exists(f:value) or exists(f:resource) and not(exists(f:value) and exists(f:resource))"
      }
    },
    "Resource": {
    },
    "Account": {
      "Account.text-txt-3": {
        "path": "Account.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Account.text-txt-1": {
        "path": "Account.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Account.text-txt-2": {
        "path": "Account.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Account.activePeriod-per-1": {
        "path": "Account.activePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Account.balance-qty-3": {
        "path": "Account.balance",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Account.coveragePeriod-per-1": {
        "path": "Account.coveragePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Account.subject-ref-1": {
        "path": "Account.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Account.owner-ref-1": {
        "path": "Account.owner",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "AllergyIntolerance": {
      "AllergyIntolerance.text-txt-3": {
        "path": "AllergyIntolerance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "AllergyIntolerance.text-txt-1": {
        "path": "AllergyIntolerance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "AllergyIntolerance.text-txt-2": {
        "path": "AllergyIntolerance.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "AllergyIntolerance.recorder-ref-1": {
        "path": "AllergyIntolerance.recorder",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "AllergyIntolerance.patient-ref-1": {
        "path": "AllergyIntolerance.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "AllergyIntolerance.reporter-ref-1": {
        "path": "AllergyIntolerance.reporter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Appointment": {
      "app-3": {
        "path": "Appointment",
        "severity": "error",
        "human": "Only proposed or cancelled appointments can be missing start/end dates",
        "xpath": "((exists(f:start) and exists(f:end)) or (f:status/@value='proposed') or (f:status/@value='cancelled'))"
      },
      "app-2": {
        "path": "Appointment",
        "severity": "error",
        "human": "Either start and end are specified, or neither",
        "xpath": "((exists(f:start) and exists(f:end)) or (not(exists(f:start)) and not(exists(f:end))))"
      },
      "Appointment.text-txt-3": {
        "path": "Appointment.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Appointment.text-txt-1": {
        "path": "Appointment.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Appointment.text-txt-2": {
        "path": "Appointment.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Appointment.slot-ref-1": {
        "path": "Appointment.slot",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "app-1": {
        "path": "Appointment.participant",
        "severity": "error",
        "human": "Either the type or actor on the participant MUST be specified",
        "xpath": "(exists(f:type) or exists(f:actor))"
      },
      "Appointment.participant.actor-ref-1": {
        "path": "Appointment.participant.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "AppointmentResponse": {
      "apr-1": {
        "path": "AppointmentResponse",
        "severity": "error",
        "human": "Either the type or actor on the participant should be specified",
        "xpath": "(exists(f:type) or exists(f:actor))"
      },
      "AppointmentResponse.text-txt-3": {
        "path": "AppointmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "AppointmentResponse.text-txt-1": {
        "path": "AppointmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "AppointmentResponse.text-txt-2": {
        "path": "AppointmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "AppointmentResponse.appointment-ref-1": {
        "path": "AppointmentResponse.appointment",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "AppointmentResponse.actor-ref-1": {
        "path": "AppointmentResponse.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "AuditEvent": {
      "AuditEvent.text-txt-3": {
        "path": "AuditEvent.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "AuditEvent.text-txt-1": {
        "path": "AuditEvent.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "AuditEvent.text-txt-2": {
        "path": "AuditEvent.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "AuditEvent.participant.reference-ref-1": {
        "path": "AuditEvent.participant.reference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "AuditEvent.participant.location-ref-1": {
        "path": "AuditEvent.participant.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "sev-1": {
        "path": "AuditEvent.object",
        "severity": "error",
        "human": "Either a name or a query (NOT both)",
        "xpath": "not(exists(f:name)) or not(exists(f:query))"
      },
      "AuditEvent.object.reference-ref-1": {
        "path": "AuditEvent.object.reference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Basic": {
      "Basic.text-txt-3": {
        "path": "Basic.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Basic.text-txt-1": {
        "path": "Basic.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Basic.text-txt-2": {
        "path": "Basic.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Basic.subject-ref-1": {
        "path": "Basic.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Basic.author-ref-1": {
        "path": "Basic.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Binary": {
    },
    "BodySite": {
      "BodySite.text-txt-3": {
        "path": "BodySite.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "BodySite.text-txt-1": {
        "path": "BodySite.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "BodySite.text-txt-2": {
        "path": "BodySite.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "BodySite.patient-ref-1": {
        "path": "BodySite.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "BodySite.image-att-1": {
        "path": "BodySite.image",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      }
    },
    "Bundle": {
      "bdl-7": {
        "path": "Bundle",
        "severity": "error",
        "human": "FullUrl must be unique in a bundle, or else entries with the same fullUrl must have different meta.versionId",
        "xpath": "count(for $entry in entry[resource] return $entry[count(parent::Bundle/entry[fullUrl/@value=$entry/fullUrl/@value and resource/*/meta/versionId/@value=$entry/resource/*/meta/versionId/@value])!=1])=0"
      },
      "bdl-3": {
        "path": "Bundle",
        "severity": "error",
        "human": "entry.transaction when (and only when) a transaction",
        "xpath": "not(f:entry/f:request) or (f:type/@value = 'batch') or (f:type/@value = 'transaction') or (f:type/@value = 'history')"
      },
      "bdl-4": {
        "path": "Bundle",
        "severity": "error",
        "human": "entry.transactionResponse when (and only when) a transaction-response",
        "xpath": "not(f:entry/f:response) or (f:type/@value = 'batch-response') or (f:type/@value = 'transaction-response')"
      },
      "bdl-1": {
        "path": "Bundle",
        "severity": "error",
        "human": "total only when a search or history",
        "xpath": "not(f:total) or (f:type/@value = 'searchset') or (f:type/@value = 'history')"
      },
      "bdl-2": {
        "path": "Bundle",
        "severity": "error",
        "human": "entry.search only when a search",
        "xpath": "not(f:entry/f:search) or (f:type/@value = 'searchset')"
      },
      "bdl-5": {
        "path": "Bundle.entry",
        "severity": "error",
        "human": "must be a resource unless there's a transaction or transaction response",
        "xpath": "f:resource or f:request or f:response"
      },
      "bdl-6": {
        "path": "Bundle.entry",
        "severity": "error",
        "human": "The fullUrl element must be present when a resource is present, and not present otherwise",
        "xpath": "(not(exists(f:fullUrl)) and not(exists(f:resource))) or (exists(f:fullUrl) and exists(f:resource))"
      }
    },
    "CarePlan": {
      "CarePlan.text-txt-3": {
        "path": "CarePlan.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "CarePlan.text-txt-1": {
        "path": "CarePlan.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "CarePlan.text-txt-2": {
        "path": "CarePlan.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "CarePlan.subject-ref-1": {
        "path": "CarePlan.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.context-ref-1": {
        "path": "CarePlan.context",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.period-per-1": {
        "path": "CarePlan.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "CarePlan.author-ref-1": {
        "path": "CarePlan.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.addresses-ref-1": {
        "path": "CarePlan.addresses",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.support-ref-1": {
        "path": "CarePlan.support",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.relatedPlan.plan-ref-1": {
        "path": "CarePlan.relatedPlan.plan",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.participant.member-ref-1": {
        "path": "CarePlan.participant.member",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.goal-ref-1": {
        "path": "CarePlan.goal",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.actionResulting-ref-1": {
        "path": "CarePlan.activity.actionResulting",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.reference-ref-1": {
        "path": "CarePlan.activity.reference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "cpl-3": {
        "path": "CarePlan.activity.detail",
        "severity": "error",
        "human": "Only provide a detail reference, or a simple detail summary",
        "xpath": "not(exists(f:detail)) or not(exists(f:simple))"
      },
      "CarePlan.activity.detail.reasonReference-ref-1": {
        "path": "CarePlan.activity.detail.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.detail.goal-ref-1": {
        "path": "CarePlan.activity.detail.goal",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-6": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-7": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-1": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-2": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-3": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-4": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "CarePlan.activity.detail.scheduled[x]-tim-5": {
        "path": "CarePlan.activity.detail.scheduledTiming",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "CarePlan.activity.detail.scheduled[x]-per-1": {
        "path": "CarePlan.activity.detail.scheduledPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "CarePlan.activity.detail.location-ref-1": {
        "path": "CarePlan.activity.detail.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.detail.performer-ref-1": {
        "path": "CarePlan.activity.detail.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.detail.product[x]-ref-1": {
        "path": "CarePlan.activity.detail.productReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CarePlan.activity.detail.dailyAmount-qty-3": {
        "path": "CarePlan.activity.detail.dailyAmount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "CarePlan.activity.detail.quantity-qty-3": {
        "path": "CarePlan.activity.detail.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "Claim": {
      "Claim.text-txt-3": {
        "path": "Claim.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Claim.text-txt-1": {
        "path": "Claim.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Claim.text-txt-2": {
        "path": "Claim.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Claim.target-ref-1": {
        "path": "Claim.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.provider-ref-1": {
        "path": "Claim.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.organization-ref-1": {
        "path": "Claim.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.enterer-ref-1": {
        "path": "Claim.enterer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.facility-ref-1": {
        "path": "Claim.facility",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.prescription-ref-1": {
        "path": "Claim.prescription",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.originalPrescription-ref-1": {
        "path": "Claim.originalPrescription",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.payee.provider-ref-1": {
        "path": "Claim.payee.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.payee.organization-ref-1": {
        "path": "Claim.payee.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.payee.person-ref-1": {
        "path": "Claim.payee.person",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.referral-ref-1": {
        "path": "Claim.referral",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.patient-ref-1": {
        "path": "Claim.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.coverage.coverage-ref-1": {
        "path": "Claim.coverage.coverage",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.coverage.claimResponse-ref-1": {
        "path": "Claim.coverage.claimResponse",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.item.provider-ref-1": {
        "path": "Claim.item.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Claim.item.quantity-qty-3": {
        "path": "Claim.item.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.unitPrice-qty-3": {
        "path": "Claim.item.unitPrice",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.net-qty-3": {
        "path": "Claim.item.net",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.quantity-qty-3": {
        "path": "Claim.item.detail.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.unitPrice-qty-3": {
        "path": "Claim.item.detail.unitPrice",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.net-qty-3": {
        "path": "Claim.item.detail.net",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.subDetail.quantity-qty-3": {
        "path": "Claim.item.detail.subDetail.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.subDetail.unitPrice-qty-3": {
        "path": "Claim.item.detail.subDetail.unitPrice",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Claim.item.detail.subDetail.net-qty-3": {
        "path": "Claim.item.detail.subDetail.net",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "ClaimResponse": {
      "ClaimResponse.text-txt-3": {
        "path": "ClaimResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ClaimResponse.text-txt-1": {
        "path": "ClaimResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ClaimResponse.text-txt-2": {
        "path": "ClaimResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ClaimResponse.request-ref-1": {
        "path": "ClaimResponse.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClaimResponse.organization-ref-1": {
        "path": "ClaimResponse.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClaimResponse.requestProvider-ref-1": {
        "path": "ClaimResponse.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClaimResponse.requestOrganization-ref-1": {
        "path": "ClaimResponse.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClaimResponse.item.adjudication.amount-qty-3": {
        "path": "ClaimResponse.item.adjudication.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.item.detail.adjudication.amount-qty-3": {
        "path": "ClaimResponse.item.detail.adjudication.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.item.detail.subDetail.adjudication.amount-qty-3": {
        "path": "ClaimResponse.item.detail.subDetail.adjudication.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.addItem.fee-qty-3": {
        "path": "ClaimResponse.addItem.fee",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.addItem.adjudication.amount-qty-3": {
        "path": "ClaimResponse.addItem.adjudication.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.addItem.detail.fee-qty-3": {
        "path": "ClaimResponse.addItem.detail.fee",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.addItem.detail.adjudication.amount-qty-3": {
        "path": "ClaimResponse.addItem.detail.adjudication.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.totalCost-qty-3": {
        "path": "ClaimResponse.totalCost",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.unallocDeductable-qty-3": {
        "path": "ClaimResponse.unallocDeductable",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.totalBenefit-qty-3": {
        "path": "ClaimResponse.totalBenefit",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.paymentAdjustment-qty-3": {
        "path": "ClaimResponse.paymentAdjustment",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.paymentAmount-qty-3": {
        "path": "ClaimResponse.paymentAmount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "ClaimResponse.coverage.coverage-ref-1": {
        "path": "ClaimResponse.coverage.coverage",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClaimResponse.coverage.claimResponse-ref-1": {
        "path": "ClaimResponse.coverage.claimResponse",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ClinicalImpression": {
      "ClinicalImpression.text-txt-3": {
        "path": "ClinicalImpression.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ClinicalImpression.text-txt-1": {
        "path": "ClinicalImpression.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ClinicalImpression.text-txt-2": {
        "path": "ClinicalImpression.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ClinicalImpression.patient-ref-1": {
        "path": "ClinicalImpression.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.assessor-ref-1": {
        "path": "ClinicalImpression.assessor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.previous-ref-1": {
        "path": "ClinicalImpression.previous",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.problem-ref-1": {
        "path": "ClinicalImpression.problem",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.trigger[x]-ref-1": {
        "path": "ClinicalImpression.triggerReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.investigations.item-ref-1": {
        "path": "ClinicalImpression.investigations.item",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.plan-ref-1": {
        "path": "ClinicalImpression.plan",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ClinicalImpression.action-ref-1": {
        "path": "ClinicalImpression.action",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Communication": {
      "Communication.text-txt-3": {
        "path": "Communication.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Communication.text-txt-1": {
        "path": "Communication.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Communication.text-txt-2": {
        "path": "Communication.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Communication.sender-ref-1": {
        "path": "Communication.sender",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Communication.recipient-ref-1": {
        "path": "Communication.recipient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Communication.payload.content[x]-att-1": {
        "path": "Communication.payload.contentAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Communication.payload.content[x]-ref-1": {
        "path": "Communication.payload.contentReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Communication.encounter-ref-1": {
        "path": "Communication.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Communication.subject-ref-1": {
        "path": "Communication.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Communication.requestDetail-ref-1": {
        "path": "Communication.requestDetail",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "CommunicationRequest": {
      "CommunicationRequest.text-txt-3": {
        "path": "CommunicationRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "CommunicationRequest.text-txt-1": {
        "path": "CommunicationRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "CommunicationRequest.text-txt-2": {
        "path": "CommunicationRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "CommunicationRequest.sender-ref-1": {
        "path": "CommunicationRequest.sender",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CommunicationRequest.recipient-ref-1": {
        "path": "CommunicationRequest.recipient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CommunicationRequest.payload.content[x]-att-1": {
        "path": "CommunicationRequest.payload.contentAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "CommunicationRequest.payload.content[x]-ref-1": {
        "path": "CommunicationRequest.payload.contentReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CommunicationRequest.requester-ref-1": {
        "path": "CommunicationRequest.requester",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CommunicationRequest.encounter-ref-1": {
        "path": "CommunicationRequest.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "CommunicationRequest.scheduled[x]-per-1": {
        "path": "CommunicationRequest.scheduledPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "CommunicationRequest.subject-ref-1": {
        "path": "CommunicationRequest.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Composition": {
      "Composition.text-txt-3": {
        "path": "Composition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Composition.text-txt-1": {
        "path": "Composition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Composition.text-txt-2": {
        "path": "Composition.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Composition.subject-ref-1": {
        "path": "Composition.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Composition.author-ref-1": {
        "path": "Composition.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Composition.attester.party-ref-1": {
        "path": "Composition.attester.party",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Composition.custodian-ref-1": {
        "path": "Composition.custodian",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Composition.event.period-per-1": {
        "path": "Composition.event.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Composition.event.detail-ref-1": {
        "path": "Composition.event.detail",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Composition.encounter-ref-1": {
        "path": "Composition.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "cmp-1": {
        "path": "Composition.section",
        "severity": "error",
        "human": "A section must at least one of text, entries, or sub-sections",
        "xpath": "exists(f:text) or exists(f:entry) or exists(f:section)"
      },
      "cmp-2": {
        "path": "Composition.section",
        "severity": "error",
        "human": "A section can only have an emptyReason if it is empty",
        "xpath": "not(exists(f:emptyReason) and exists(f:entry))"
      },
      "Composition.section.text-txt-3": {
        "path": "Composition.section.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Composition.section.text-txt-1": {
        "path": "Composition.section.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Composition.section.text-txt-2": {
        "path": "Composition.section.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Composition.section.entry-ref-1": {
        "path": "Composition.section.entry",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ConceptMap": {
      "ConceptMap.text-txt-3": {
        "path": "ConceptMap.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ConceptMap.text-txt-1": {
        "path": "ConceptMap.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ConceptMap.text-txt-2": {
        "path": "ConceptMap.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ConceptMap.contact.telecom-cpt-2": {
        "path": "ConceptMap.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "ConceptMap.source[x]-ref-1": {
        "path": "ConceptMap.sourceReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ConceptMap.target[x]-ref-1": {
        "path": "ConceptMap.targetReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "cmd-1": {
        "path": "ConceptMap.element.target",
        "severity": "error",
        "human": "If the map is narrower or inexact, there SHALL be some comments",
        "xpath": "exists(f:comments) or ((f:equivalence/@value != 'narrower') and (f:equivalence/@value != 'inexact'))"
      }
    },
    "Condition": {
      "Condition.text-txt-3": {
        "path": "Condition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Condition.text-txt-1": {
        "path": "Condition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Condition.text-txt-2": {
        "path": "Condition.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Condition.patient-ref-1": {
        "path": "Condition.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Condition.encounter-ref-1": {
        "path": "Condition.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Condition.asserter-ref-1": {
        "path": "Condition.asserter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Condition.onset[x]-qty-3": {
        "path": "Condition.onsetQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Condition.onset[x]-per-1": {
        "path": "Condition.onsetPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Condition.onset[x]-rng-2": {
        "path": "Condition.onsetRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Condition.abatement[x]-qty-3": {
        "path": "Condition.abatementQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Condition.abatement[x]-per-1": {
        "path": "Condition.abatementPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Condition.abatement[x]-rng-2": {
        "path": "Condition.abatementRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "con-1": {
        "path": "Condition.stage",
        "severity": "error",
        "human": "Stage SHALL have summary or assessment",
        "xpath": "exists(f:summary) or exists(f:assessment)"
      },
      "Condition.stage.assessment-ref-1": {
        "path": "Condition.stage.assessment",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "con-2": {
        "path": "Condition.evidence",
        "severity": "error",
        "human": "evidence SHALL have code or details",
        "xpath": "exists(f:code) or exists(f:detail)"
      },
      "Condition.evidence.detail-ref-1": {
        "path": "Condition.evidence.detail",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Conformance": {
      "cnf-8": {
        "path": "Conformance",
        "severity": "error",
        "human": "There can only be one REST declaration per mode",
        "xpath": "count(f:rest)=count(distinct-values(f:rest/f:mode/@value))"
      },
      "cnf-7": {
        "path": "Conformance",
        "severity": "error",
        "human": "The set of documents must be unique by the combination of profile & mode",
        "xpath": "count(f:document[f:mode='producer'])=count(distinct-values(f:document[f:mode='producer']/f:profile/@value)) and count(f:document[f:mode='consumer'])=count(distinct-values(f:document[f:mode='consumer']/f:profile/@value))"
      },
      "cnf-2": {
        "path": "Conformance",
        "severity": "error",
        "human": "A Conformance statement SHALL have at least one of description, software, or implementation",
        "xpath": "count(f:software | f:implementation | f:description) > 0"
      },
      "cnf-3": {
        "path": "Conformance",
        "severity": "error",
        "human": "Messaging end point is required (and is only permitted) when statement is for an implementation",
        "xpath": "exists(f:messaging/f:endpoint) = (f:kind/@value = 'instance')"
      },
      "cnf-1": {
        "path": "Conformance",
        "severity": "error",
        "human": "A Conformance statement SHALL have at least one of rest, messaging or document",
        "xpath": "exists(f:rest) or exists(f:messaging) or exists(f:document)"
      },
      "cnf-14": {
        "path": "Conformance",
        "severity": "error",
        "human": "Conformance statements of kind 'requirements' do not have software or implementation elements",
        "xpath": "not(exists(f:software) or exists(f:implementation)) or (f:kind/@value != 'requirements')"
      },
      "cnf-15": {
        "path": "Conformance",
        "severity": "error",
        "human": "Conformance statements of kind 'software' do not have implementation elements",
        "xpath": "not(exists(f:implementation)) or (f:kind/@value != 'capability')"
      },
      "Conformance.text-txt-3": {
        "path": "Conformance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Conformance.text-txt-1": {
        "path": "Conformance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Conformance.text-txt-2": {
        "path": "Conformance.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Conformance.contact.telecom-cpt-2": {
        "path": "Conformance.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Conformance.profile-ref-1": {
        "path": "Conformance.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "cnf-9": {
        "path": "Conformance.rest",
        "severity": "error",
        "human": "A given resource can only be described once per RESTful mode",
        "xpath": "count(f:resource)=count(distinct-values(f:resource/f:type/@value))"
      },
      "cnf-10": {
        "path": "Conformance.rest",
        "severity": "error",
        "human": "A given query can only be described once per RESTful mode",
        "xpath": "count(f:query)=count(distinct-values(f:query/f:name/@value))"
      },
      "cnf-11": {
        "path": "Conformance.rest.resource",
        "severity": "error",
        "human": "Operation codes must be unique in the context of a resource",
        "xpath": "count(f:operation)=count(distinct-values(f:operation/f:code/@value))"
      },
      "cnf-12": {
        "path": "Conformance.rest.resource",
        "severity": "error",
        "human": "Search parameter names must be unique in the context of a resource",
        "xpath": "count(f:searchParam)=count(distinct-values(f:searchParam/f:name/@value))"
      },
      "Conformance.rest.resource.profile-ref-1": {
        "path": "Conformance.rest.resource.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "cnf-13": {
        "path": "Conformance.rest.resource.searchParam",
        "severity": "error",
        "human": "Search parameters can only have chain names when the search parameter type is 'reference'",
        "xpath": "not(exists(f:chain)) or (f:type/@value = 'reference')"
      },
      "Conformance.rest.operation.definition-ref-1": {
        "path": "Conformance.rest.operation.definition",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Conformance.messaging.event.request-ref-1": {
        "path": "Conformance.messaging.event.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Conformance.messaging.event.response-ref-1": {
        "path": "Conformance.messaging.event.response",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Conformance.document.profile-ref-1": {
        "path": "Conformance.document.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Contract": {
      "Contract.text-txt-3": {
        "path": "Contract.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Contract.text-txt-1": {
        "path": "Contract.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Contract.text-txt-2": {
        "path": "Contract.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Contract.applies-per-1": {
        "path": "Contract.applies",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Contract.subject-ref-1": {
        "path": "Contract.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.authority-ref-1": {
        "path": "Contract.authority",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.domain-ref-1": {
        "path": "Contract.domain",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.actor.entity-ref-1": {
        "path": "Contract.actor.entity",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.valuedItem.entity[x]-ref-1": {
        "path": "Contract.valuedItem.entityReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.valuedItem.quantity-qty-3": {
        "path": "Contract.valuedItem.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.valuedItem.unitPrice-qty-3": {
        "path": "Contract.valuedItem.unitPrice",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.valuedItem.net-qty-3": {
        "path": "Contract.valuedItem.net",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.signer.party-ref-1": {
        "path": "Contract.signer.party",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.term.applies-per-1": {
        "path": "Contract.term.applies",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Contract.term.subject-ref-1": {
        "path": "Contract.term.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.term.actor.entity-ref-1": {
        "path": "Contract.term.actor.entity",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.term.valuedItem.entity[x]-ref-1": {
        "path": "Contract.term.valuedItem.entityReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.term.valuedItem.quantity-qty-3": {
        "path": "Contract.term.valuedItem.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.term.valuedItem.unitPrice-qty-3": {
        "path": "Contract.term.valuedItem.unitPrice",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.term.valuedItem.net-qty-3": {
        "path": "Contract.term.valuedItem.net",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Contract.binding[x]-att-1": {
        "path": "Contract.bindingAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Contract.binding[x]-ref-1": {
        "path": "Contract.bindingReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.friendly.content[x]-att-1": {
        "path": "Contract.friendly.contentAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Contract.friendly.content[x]-ref-1": {
        "path": "Contract.friendly.contentReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.legal.content[x]-att-1": {
        "path": "Contract.legal.contentAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Contract.legal.content[x]-ref-1": {
        "path": "Contract.legal.contentReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Contract.rule.content[x]-att-1": {
        "path": "Contract.rule.contentAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Contract.rule.content[x]-ref-1": {
        "path": "Contract.rule.contentReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Coverage": {
      "Coverage.text-txt-3": {
        "path": "Coverage.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Coverage.text-txt-1": {
        "path": "Coverage.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Coverage.text-txt-2": {
        "path": "Coverage.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Coverage.issuer-ref-1": {
        "path": "Coverage.issuer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Coverage.period-per-1": {
        "path": "Coverage.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Coverage.subscriber-ref-1": {
        "path": "Coverage.subscriber",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Coverage.contract-ref-1": {
        "path": "Coverage.contract",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "DataElement": {
      "DataElement.text-txt-3": {
        "path": "DataElement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DataElement.text-txt-1": {
        "path": "DataElement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DataElement.text-txt-2": {
        "path": "DataElement.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DataElement.contact.telecom-cpt-2": {
        "path": "DataElement.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "dae-1": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "No base allowed",
        "xpath": "not(exists(f:base))"
      },
      "dae-2": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "No slicing allowed",
        "xpath": "not(exists(f:slicing))"
      },
      "DataElement.element-eld-2": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Min <= Max",
        "xpath": "not(exists(f:min)) or not(exists(f:max)) or (not(f:max/@value) and not(f:min/@value)) or (f:max/@value = '*') or (f:max/@value >= f:min/@value)"
      },
      "DataElement.element-eld-5": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Either a namereference or a fixed value (but not both) is permitted",
        "xpath": "not(exists(f:nameReference) and exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "DataElement.element-eld-7": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Pattern may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or (count(f:type)=1 )"
      },
      "DataElement.element-eld-6": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Fixed value may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or (count(f:type)=1 )"
      },
      "DataElement.element-eld-11": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Binding can only be present for coded elements, string, and uri",
        "xpath": "not(exists(f:binding)) or (count(f:type/f:code) = 0) or  f:type/f:code/@value=('code','Coding','CodeableConcept','Quantity','Extension', 'string', 'uri')"
      },
      "DataElement.element-eld-8": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Pattern and value are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or not(exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "DataElement.element-eld-14": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Constraints must be unique by key",
        "xpath": "count(f:constraint) = count(distinct-values(f:constraint/f:key/@value))"
      },
      "DataElement.element-eld-13": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Types must be unique by the combination of code and profile",
        "xpath": "not(exists(for $type in f:type return $type/preceding-sibling::f:type[f:code/@value=$type/f:code/@value and f:profile/@value = $type/f:profile/@value]))"
      },
      "DataElement.element-eld-15": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "default value and meaningWhenMissing are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or not(exists(f:meaningWhenMissing))"
      },
      "DataElement.element-eld-1": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "If there are no discriminators, there must be a definition",
        "xpath": "(f:discriminator) or (f:definition)"
      },
      "DataElement.element-eld-3": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Max SHALL be a number or \"*\"",
        "xpath": "@value='*' or (normalize-space(@value)!='' and normalize-space(translate(@value, '0123456789',''))='')"
      },
      "DataElement.element-eld-4": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Aggregation may only be specified if one of the allowed types for the element is a resource",
        "xpath": "not(exists(f:aggregation)) or exists(f:code[@value = 'Reference'])"
      },
      "DataElement.element-eld-10": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "provide either a reference or a description (or both)",
        "xpath": "(exists(f:valueSetUri) or exists(f:valueSetReference)) or exists(f:description)"
      },
      "DataElement.element-eld-9": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "Example value sets are always extensible",
        "xpath": "not(f:conformance/@value='example' and f:isExtensible/@value='false')"
      },
      "DataElement.element-eld-12": {
        "path": "DataElement.element",
        "severity": "error",
        "human": "uri SHALL start with http:// or https://",
        "xpath": "starts-with(@value, 'http:') or starts-with(@value, 'https:')"
      }
    },
    "DetectedIssue": {
      "DetectedIssue.text-txt-3": {
        "path": "DetectedIssue.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DetectedIssue.text-txt-1": {
        "path": "DetectedIssue.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DetectedIssue.text-txt-2": {
        "path": "DetectedIssue.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DetectedIssue.patient-ref-1": {
        "path": "DetectedIssue.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DetectedIssue.implicated-ref-1": {
        "path": "DetectedIssue.implicated",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DetectedIssue.author-ref-1": {
        "path": "DetectedIssue.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DetectedIssue.mitigation.author-ref-1": {
        "path": "DetectedIssue.mitigation.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Device": {
      "Device.text-txt-3": {
        "path": "Device.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Device.text-txt-1": {
        "path": "Device.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Device.text-txt-2": {
        "path": "Device.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Device.owner-ref-1": {
        "path": "Device.owner",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Device.location-ref-1": {
        "path": "Device.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Device.patient-ref-1": {
        "path": "Device.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Device.contact-cpt-2": {
        "path": "Device.contact",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      }
    },
    "DeviceComponent": {
      "DeviceComponent.text-txt-3": {
        "path": "DeviceComponent.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DeviceComponent.text-txt-1": {
        "path": "DeviceComponent.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DeviceComponent.text-txt-2": {
        "path": "DeviceComponent.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DeviceComponent.source-ref-1": {
        "path": "DeviceComponent.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceComponent.parent-ref-1": {
        "path": "DeviceComponent.parent",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "DeviceMetric": {
      "DeviceMetric.text-txt-3": {
        "path": "DeviceMetric.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DeviceMetric.text-txt-1": {
        "path": "DeviceMetric.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DeviceMetric.text-txt-2": {
        "path": "DeviceMetric.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DeviceMetric.source-ref-1": {
        "path": "DeviceMetric.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceMetric.parent-ref-1": {
        "path": "DeviceMetric.parent",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceMetric.measurementPeriod-tim-6": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "DeviceMetric.measurementPeriod-tim-7": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "DeviceMetric.measurementPeriod-tim-1": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "DeviceMetric.measurementPeriod-tim-2": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "DeviceMetric.measurementPeriod-tim-3": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "DeviceMetric.measurementPeriod-tim-4": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "DeviceMetric.measurementPeriod-tim-5": {
        "path": "DeviceMetric.measurementPeriod",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      }
    },
    "DeviceUseRequest": {
      "DeviceUseRequest.text-txt-3": {
        "path": "DeviceUseRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DeviceUseRequest.text-txt-1": {
        "path": "DeviceUseRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DeviceUseRequest.text-txt-2": {
        "path": "DeviceUseRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DeviceUseRequest.bodySite[x]-ref-1": {
        "path": "DeviceUseRequest.bodySiteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseRequest.device-ref-1": {
        "path": "DeviceUseRequest.device",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseRequest.encounter-ref-1": {
        "path": "DeviceUseRequest.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseRequest.subject-ref-1": {
        "path": "DeviceUseRequest.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseRequest.timing[x]-tim-6": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "DeviceUseRequest.timing[x]-tim-7": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "DeviceUseRequest.timing[x]-tim-1": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "DeviceUseRequest.timing[x]-tim-2": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "DeviceUseRequest.timing[x]-tim-3": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "DeviceUseRequest.timing[x]-tim-4": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "DeviceUseRequest.timing[x]-tim-5": {
        "path": "DeviceUseRequest.timingTiming",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "DeviceUseRequest.timing[x]-per-1": {
        "path": "DeviceUseRequest.timingPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "DeviceUseStatement": {
      "DeviceUseStatement.text-txt-3": {
        "path": "DeviceUseStatement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DeviceUseStatement.text-txt-1": {
        "path": "DeviceUseStatement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DeviceUseStatement.text-txt-2": {
        "path": "DeviceUseStatement.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DeviceUseStatement.bodySite[x]-ref-1": {
        "path": "DeviceUseStatement.bodySiteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseStatement.whenUsed-per-1": {
        "path": "DeviceUseStatement.whenUsed",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "DeviceUseStatement.device-ref-1": {
        "path": "DeviceUseStatement.device",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseStatement.subject-ref-1": {
        "path": "DeviceUseStatement.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DeviceUseStatement.timing[x]-tim-6": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "DeviceUseStatement.timing[x]-tim-7": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "DeviceUseStatement.timing[x]-tim-1": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "DeviceUseStatement.timing[x]-tim-2": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "DeviceUseStatement.timing[x]-tim-3": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "DeviceUseStatement.timing[x]-tim-4": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "DeviceUseStatement.timing[x]-tim-5": {
        "path": "DeviceUseStatement.timingTiming",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "DeviceUseStatement.timing[x]-per-1": {
        "path": "DeviceUseStatement.timingPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "DiagnosticOrder": {
      "DiagnosticOrder.text-txt-3": {
        "path": "DiagnosticOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DiagnosticOrder.text-txt-1": {
        "path": "DiagnosticOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DiagnosticOrder.text-txt-2": {
        "path": "DiagnosticOrder.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DiagnosticOrder.subject-ref-1": {
        "path": "DiagnosticOrder.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.orderer-ref-1": {
        "path": "DiagnosticOrder.orderer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.encounter-ref-1": {
        "path": "DiagnosticOrder.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.supportingInformation-ref-1": {
        "path": "DiagnosticOrder.supportingInformation",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.specimen-ref-1": {
        "path": "DiagnosticOrder.specimen",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.event.actor-ref-1": {
        "path": "DiagnosticOrder.event.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticOrder.item.specimen-ref-1": {
        "path": "DiagnosticOrder.item.specimen",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "DiagnosticReport": {
      "DiagnosticReport.text-txt-3": {
        "path": "DiagnosticReport.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DiagnosticReport.text-txt-1": {
        "path": "DiagnosticReport.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DiagnosticReport.text-txt-2": {
        "path": "DiagnosticReport.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DiagnosticReport.subject-ref-1": {
        "path": "DiagnosticReport.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.encounter-ref-1": {
        "path": "DiagnosticReport.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.effective[x]-per-1": {
        "path": "DiagnosticReport.effectivePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "DiagnosticReport.performer-ref-1": {
        "path": "DiagnosticReport.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.request-ref-1": {
        "path": "DiagnosticReport.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.specimen-ref-1": {
        "path": "DiagnosticReport.specimen",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.result-ref-1": {
        "path": "DiagnosticReport.result",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.imagingStudy-ref-1": {
        "path": "DiagnosticReport.imagingStudy",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.image.link-ref-1": {
        "path": "DiagnosticReport.image.link",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DiagnosticReport.presentedForm-att-1": {
        "path": "DiagnosticReport.presentedForm",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      }
    },
    "DocumentManifest": {
      "DocumentManifest.text-txt-3": {
        "path": "DocumentManifest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DocumentManifest.text-txt-1": {
        "path": "DocumentManifest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DocumentManifest.text-txt-2": {
        "path": "DocumentManifest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DocumentManifest.subject-ref-1": {
        "path": "DocumentManifest.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentManifest.recipient-ref-1": {
        "path": "DocumentManifest.recipient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentManifest.author-ref-1": {
        "path": "DocumentManifest.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentManifest.content.p[x]-att-1": {
        "path": "DocumentManifest.content.pAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "DocumentManifest.content.p[x]-ref-1": {
        "path": "DocumentManifest.content.pReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentManifest.related.ref-ref-1": {
        "path": "DocumentManifest.related.ref",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "DocumentReference": {
      "DocumentReference.text-txt-3": {
        "path": "DocumentReference.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "DocumentReference.text-txt-1": {
        "path": "DocumentReference.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "DocumentReference.text-txt-2": {
        "path": "DocumentReference.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "DocumentReference.subject-ref-1": {
        "path": "DocumentReference.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.author-ref-1": {
        "path": "DocumentReference.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.custodian-ref-1": {
        "path": "DocumentReference.custodian",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.authenticator-ref-1": {
        "path": "DocumentReference.authenticator",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.relatesTo.target-ref-1": {
        "path": "DocumentReference.relatesTo.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.content.attachment-att-1": {
        "path": "DocumentReference.content.attachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "DocumentReference.context.encounter-ref-1": {
        "path": "DocumentReference.context.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.context.period-per-1": {
        "path": "DocumentReference.context.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "DocumentReference.context.sourcePatientInfo-ref-1": {
        "path": "DocumentReference.context.sourcePatientInfo",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "DocumentReference.context.related.ref-ref-1": {
        "path": "DocumentReference.context.related.ref",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "EligibilityRequest": {
      "EligibilityRequest.text-txt-3": {
        "path": "EligibilityRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "EligibilityRequest.text-txt-1": {
        "path": "EligibilityRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "EligibilityRequest.text-txt-2": {
        "path": "EligibilityRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "EligibilityRequest.target-ref-1": {
        "path": "EligibilityRequest.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EligibilityRequest.provider-ref-1": {
        "path": "EligibilityRequest.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EligibilityRequest.organization-ref-1": {
        "path": "EligibilityRequest.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "EligibilityResponse": {
      "EligibilityResponse.text-txt-3": {
        "path": "EligibilityResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "EligibilityResponse.text-txt-1": {
        "path": "EligibilityResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "EligibilityResponse.text-txt-2": {
        "path": "EligibilityResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "EligibilityResponse.request-ref-1": {
        "path": "EligibilityResponse.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EligibilityResponse.organization-ref-1": {
        "path": "EligibilityResponse.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EligibilityResponse.requestProvider-ref-1": {
        "path": "EligibilityResponse.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EligibilityResponse.requestOrganization-ref-1": {
        "path": "EligibilityResponse.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Encounter": {
      "Encounter.text-txt-3": {
        "path": "Encounter.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Encounter.text-txt-1": {
        "path": "Encounter.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Encounter.text-txt-2": {
        "path": "Encounter.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Encounter.statusHistory.period-per-1": {
        "path": "Encounter.statusHistory.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Encounter.patient-ref-1": {
        "path": "Encounter.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.episodeOfCare-ref-1": {
        "path": "Encounter.episodeOfCare",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.incomingReferral-ref-1": {
        "path": "Encounter.incomingReferral",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.participant.period-per-1": {
        "path": "Encounter.participant.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Encounter.participant.individual-ref-1": {
        "path": "Encounter.participant.individual",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.appointment-ref-1": {
        "path": "Encounter.appointment",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.period-per-1": {
        "path": "Encounter.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Encounter.length-qty-3": {
        "path": "Encounter.length",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Encounter.indication-ref-1": {
        "path": "Encounter.indication",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.hospitalization.origin-ref-1": {
        "path": "Encounter.hospitalization.origin",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.hospitalization.admittingDiagnosis-ref-1": {
        "path": "Encounter.hospitalization.admittingDiagnosis",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.hospitalization.destination-ref-1": {
        "path": "Encounter.hospitalization.destination",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.hospitalization.dischargeDiagnosis-ref-1": {
        "path": "Encounter.hospitalization.dischargeDiagnosis",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.location.location-ref-1": {
        "path": "Encounter.location.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.location.period-per-1": {
        "path": "Encounter.location.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Encounter.serviceProvider-ref-1": {
        "path": "Encounter.serviceProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Encounter.partOf-ref-1": {
        "path": "Encounter.partOf",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "EnrollmentRequest": {
      "EnrollmentRequest.text-txt-3": {
        "path": "EnrollmentRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "EnrollmentRequest.text-txt-1": {
        "path": "EnrollmentRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "EnrollmentRequest.text-txt-2": {
        "path": "EnrollmentRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "EnrollmentRequest.target-ref-1": {
        "path": "EnrollmentRequest.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentRequest.provider-ref-1": {
        "path": "EnrollmentRequest.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentRequest.organization-ref-1": {
        "path": "EnrollmentRequest.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentRequest.subject-ref-1": {
        "path": "EnrollmentRequest.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentRequest.coverage-ref-1": {
        "path": "EnrollmentRequest.coverage",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "EnrollmentResponse": {
      "EnrollmentResponse.text-txt-3": {
        "path": "EnrollmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "EnrollmentResponse.text-txt-1": {
        "path": "EnrollmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "EnrollmentResponse.text-txt-2": {
        "path": "EnrollmentResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "EnrollmentResponse.request-ref-1": {
        "path": "EnrollmentResponse.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentResponse.organization-ref-1": {
        "path": "EnrollmentResponse.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentResponse.requestProvider-ref-1": {
        "path": "EnrollmentResponse.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EnrollmentResponse.requestOrganization-ref-1": {
        "path": "EnrollmentResponse.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "EpisodeOfCare": {
      "EpisodeOfCare.text-txt-3": {
        "path": "EpisodeOfCare.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "EpisodeOfCare.text-txt-1": {
        "path": "EpisodeOfCare.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "EpisodeOfCare.text-txt-2": {
        "path": "EpisodeOfCare.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "EpisodeOfCare.statusHistory.period-per-1": {
        "path": "EpisodeOfCare.statusHistory.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "EpisodeOfCare.condition-ref-1": {
        "path": "EpisodeOfCare.condition",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EpisodeOfCare.patient-ref-1": {
        "path": "EpisodeOfCare.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EpisodeOfCare.managingOrganization-ref-1": {
        "path": "EpisodeOfCare.managingOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EpisodeOfCare.period-per-1": {
        "path": "EpisodeOfCare.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "EpisodeOfCare.referralRequest-ref-1": {
        "path": "EpisodeOfCare.referralRequest",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EpisodeOfCare.careManager-ref-1": {
        "path": "EpisodeOfCare.careManager",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "EpisodeOfCare.careTeam.period-per-1": {
        "path": "EpisodeOfCare.careTeam.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "EpisodeOfCare.careTeam.member-ref-1": {
        "path": "EpisodeOfCare.careTeam.member",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ExplanationOfBenefit": {
      "ExplanationOfBenefit.text-txt-3": {
        "path": "ExplanationOfBenefit.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ExplanationOfBenefit.text-txt-1": {
        "path": "ExplanationOfBenefit.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ExplanationOfBenefit.text-txt-2": {
        "path": "ExplanationOfBenefit.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ExplanationOfBenefit.request-ref-1": {
        "path": "ExplanationOfBenefit.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ExplanationOfBenefit.organization-ref-1": {
        "path": "ExplanationOfBenefit.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ExplanationOfBenefit.requestProvider-ref-1": {
        "path": "ExplanationOfBenefit.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ExplanationOfBenefit.requestOrganization-ref-1": {
        "path": "ExplanationOfBenefit.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "FamilyMemberHistory": {
      "fhs-1": {
        "path": "FamilyMemberHistory",
        "severity": "error",
        "human": "Can have age[x] or birth[x], but not both",
        "xpath": "not (*[starts-with(local-name(.), 'age')] and *[starts-with(local-name(.), 'birth')])"
      },
      "FamilyMemberHistory.text-txt-3": {
        "path": "FamilyMemberHistory.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "FamilyMemberHistory.text-txt-1": {
        "path": "FamilyMemberHistory.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "FamilyMemberHistory.text-txt-2": {
        "path": "FamilyMemberHistory.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "FamilyMemberHistory.patient-ref-1": {
        "path": "FamilyMemberHistory.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "FamilyMemberHistory.born[x]-per-1": {
        "path": "FamilyMemberHistory.bornPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "FamilyMemberHistory.age[x]-qty-3": {
        "path": "FamilyMemberHistory.ageQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "FamilyMemberHistory.age[x]-rng-2": {
        "path": "FamilyMemberHistory.ageRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "FamilyMemberHistory.deceased[x]-qty-3": {
        "path": "FamilyMemberHistory.deceasedQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "FamilyMemberHistory.deceased[x]-rng-2": {
        "path": "FamilyMemberHistory.deceasedRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "FamilyMemberHistory.condition.onset[x]-qty-3": {
        "path": "FamilyMemberHistory.condition.onsetQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "FamilyMemberHistory.condition.onset[x]-rng-2": {
        "path": "FamilyMemberHistory.condition.onsetRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "FamilyMemberHistory.condition.onset[x]-per-1": {
        "path": "FamilyMemberHistory.condition.onsetPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "Flag": {
      "Flag.text-txt-3": {
        "path": "Flag.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Flag.text-txt-1": {
        "path": "Flag.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Flag.text-txt-2": {
        "path": "Flag.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Flag.period-per-1": {
        "path": "Flag.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Flag.subject-ref-1": {
        "path": "Flag.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Flag.encounter-ref-1": {
        "path": "Flag.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Flag.author-ref-1": {
        "path": "Flag.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Goal": {
      "Goal.text-txt-3": {
        "path": "Goal.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Goal.text-txt-1": {
        "path": "Goal.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Goal.text-txt-2": {
        "path": "Goal.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Goal.subject-ref-1": {
        "path": "Goal.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Goal.target[x]-qty-3": {
        "path": "Goal.targetQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Goal.author-ref-1": {
        "path": "Goal.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Goal.addresses-ref-1": {
        "path": "Goal.addresses",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Goal.outcome.result[x]-ref-1": {
        "path": "Goal.outcome.resultReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Group": {
      "grp-1": {
        "path": "Group",
        "severity": "error",
        "human": "Can only have members if group is \"actual\"",
        "xpath": "f:actual/@value='true' or not(exists(f:member))"
      },
      "Group.text-txt-3": {
        "path": "Group.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Group.text-txt-1": {
        "path": "Group.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Group.text-txt-2": {
        "path": "Group.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Group.characteristic.value[x]-qty-3": {
        "path": "Group.characteristic.valueQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Group.characteristic.value[x]-rng-2": {
        "path": "Group.characteristic.valueRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Group.characteristic.period-per-1": {
        "path": "Group.characteristic.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Group.member.entity-ref-1": {
        "path": "Group.member.entity",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Group.member.period-per-1": {
        "path": "Group.member.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "HealthcareService": {
      "HealthcareService.text-txt-3": {
        "path": "HealthcareService.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "HealthcareService.text-txt-1": {
        "path": "HealthcareService.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "HealthcareService.text-txt-2": {
        "path": "HealthcareService.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "HealthcareService.providedBy-ref-1": {
        "path": "HealthcareService.providedBy",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "HealthcareService.location-ref-1": {
        "path": "HealthcareService.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "HealthcareService.photo-att-1": {
        "path": "HealthcareService.photo",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "HealthcareService.telecom-cpt-2": {
        "path": "HealthcareService.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "HealthcareService.coverageArea-ref-1": {
        "path": "HealthcareService.coverageArea",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "HealthcareService.notAvailable.during-per-1": {
        "path": "HealthcareService.notAvailable.during",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "ImagingObjectSelection": {
      "ImagingObjectSelection.text-txt-3": {
        "path": "ImagingObjectSelection.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ImagingObjectSelection.text-txt-1": {
        "path": "ImagingObjectSelection.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ImagingObjectSelection.text-txt-2": {
        "path": "ImagingObjectSelection.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ImagingObjectSelection.patient-ref-1": {
        "path": "ImagingObjectSelection.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingObjectSelection.author-ref-1": {
        "path": "ImagingObjectSelection.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingObjectSelection.study.imagingStudy-ref-1": {
        "path": "ImagingObjectSelection.study.imagingStudy",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ImagingStudy": {
      "ImagingStudy.text-txt-3": {
        "path": "ImagingStudy.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ImagingStudy.text-txt-1": {
        "path": "ImagingStudy.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ImagingStudy.text-txt-2": {
        "path": "ImagingStudy.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ImagingStudy.patient-ref-1": {
        "path": "ImagingStudy.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingStudy.order-ref-1": {
        "path": "ImagingStudy.order",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingStudy.referrer-ref-1": {
        "path": "ImagingStudy.referrer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingStudy.procedure-ref-1": {
        "path": "ImagingStudy.procedure",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingStudy.interpreter-ref-1": {
        "path": "ImagingStudy.interpreter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImagingStudy.series.instance.content-att-1": {
        "path": "ImagingStudy.series.instance.content",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      }
    },
    "Immunization": {
      "Immunization.text-txt-3": {
        "path": "Immunization.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Immunization.text-txt-1": {
        "path": "Immunization.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Immunization.text-txt-2": {
        "path": "Immunization.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Immunization.patient-ref-1": {
        "path": "Immunization.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "imm-2": {
        "path": "Immunization.wasNotGiven",
        "severity": "error",
        "human": "If immunization was administered (wasNotGiven=false) then explanation.reasonNotGiven SHALL be absent.",
        "xpath": "not(f:wasNotGiven/@value='false' and exists(f:explanation/f:reasonNotGiven))"
      },
      "imm-1": {
        "path": "Immunization.wasNotGiven",
        "severity": "error",
        "human": "If immunization was not administred (wasNotGiven=true) then there SHALL be no reaction nor explanation.reason present",
        "xpath": "not(f:wasNotGiven/@value='true' and (count(f:reaction) > 0 or exists(f:explanation/reason)))"
      },
      "Immunization.performer-ref-1": {
        "path": "Immunization.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.requester-ref-1": {
        "path": "Immunization.requester",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.encounter-ref-1": {
        "path": "Immunization.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.manufacturer-ref-1": {
        "path": "Immunization.manufacturer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.location-ref-1": {
        "path": "Immunization.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.doseQuantity-qty-3": {
        "path": "Immunization.doseQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Immunization.reaction.detail-ref-1": {
        "path": "Immunization.reaction.detail",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Immunization.vaccinationProtocol.authority-ref-1": {
        "path": "Immunization.vaccinationProtocol.authority",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ImmunizationRecommendation": {
      "ImmunizationRecommendation.text-txt-3": {
        "path": "ImmunizationRecommendation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ImmunizationRecommendation.text-txt-1": {
        "path": "ImmunizationRecommendation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ImmunizationRecommendation.text-txt-2": {
        "path": "ImmunizationRecommendation.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ImmunizationRecommendation.patient-ref-1": {
        "path": "ImmunizationRecommendation.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImmunizationRecommendation.recommendation.protocol.authority-ref-1": {
        "path": "ImmunizationRecommendation.recommendation.protocol.authority",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImmunizationRecommendation.recommendation.supportingImmunization-ref-1": {
        "path": "ImmunizationRecommendation.recommendation.supportingImmunization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImmunizationRecommendation.recommendation.supportingPatientInformation-ref-1": {
        "path": "ImmunizationRecommendation.recommendation.supportingPatientInformation",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ImplementationGuide": {
      "ImplementationGuide.text-txt-3": {
        "path": "ImplementationGuide.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ImplementationGuide.text-txt-1": {
        "path": "ImplementationGuide.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ImplementationGuide.text-txt-2": {
        "path": "ImplementationGuide.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ImplementationGuide.contact.telecom-cpt-2": {
        "path": "ImplementationGuide.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "ImplementationGuide.package.resource.source[x]-ref-1": {
        "path": "ImplementationGuide.package.resource.sourceReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImplementationGuide.package.resource.exampleFor-ref-1": {
        "path": "ImplementationGuide.package.resource.exampleFor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ImplementationGuide.global.profile-ref-1": {
        "path": "ImplementationGuide.global.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "List": {
      "lst-2": {
        "path": "List",
        "severity": "error",
        "human": "The deleted flag can only be used if the mode of the list is \"changes\"",
        "xpath": "(f:mode/@value = 'changes') or not(exists(f:entry/f:item/f:deleted))"
      },
      "lst-1": {
        "path": "List",
        "severity": "error",
        "human": "A list can only have an emptyReason if it is empty",
        "xpath": "not(exists(f:emptyReason) and exists(f:entry))"
      },
      "List.text-txt-3": {
        "path": "List.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "List.text-txt-1": {
        "path": "List.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "List.text-txt-2": {
        "path": "List.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "List.subject-ref-1": {
        "path": "List.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "List.source-ref-1": {
        "path": "List.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "List.encounter-ref-1": {
        "path": "List.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "List.entry.item-ref-1": {
        "path": "List.entry.item",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Location": {
      "Location.text-txt-3": {
        "path": "Location.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Location.text-txt-1": {
        "path": "Location.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Location.text-txt-2": {
        "path": "Location.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Location.telecom-cpt-2": {
        "path": "Location.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Location.managingOrganization-ref-1": {
        "path": "Location.managingOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Location.partOf-ref-1": {
        "path": "Location.partOf",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Media": {
      "mda-1": {
        "path": "Media",
        "severity": "error",
        "human": "Height can only be used for a photo or video",
        "xpath": "not(f:type/@value='audio') or not(f:height)"
      },
      "mda-2": {
        "path": "Media",
        "severity": "error",
        "human": "Width can only be used for a photo or video",
        "xpath": "not(f:type/@value='audio') or not(f:width)"
      },
      "mda-3": {
        "path": "Media",
        "severity": "error",
        "human": "Frames can only be used for a photo",
        "xpath": "(f:type/@value='photo') or not(f:frames)"
      },
      "mda-4": {
        "path": "Media",
        "severity": "error",
        "human": "Length can only be used for an audio or a video",
        "xpath": "not(f:type/@value='photo') or not(f:length)"
      },
      "Media.text-txt-3": {
        "path": "Media.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Media.text-txt-1": {
        "path": "Media.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Media.text-txt-2": {
        "path": "Media.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Media.subject-ref-1": {
        "path": "Media.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Media.operator-ref-1": {
        "path": "Media.operator",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Media.content-att-1": {
        "path": "Media.content",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      }
    },
    "Medication": {
      "Medication.text-txt-3": {
        "path": "Medication.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Medication.text-txt-1": {
        "path": "Medication.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Medication.text-txt-2": {
        "path": "Medication.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Medication.manufacturer-ref-1": {
        "path": "Medication.manufacturer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Medication.product.ingredient.item-ref-1": {
        "path": "Medication.product.ingredient.item",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Medication.product.ingredient.amount-rat-1": {
        "path": "Medication.product.ingredient.amount",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "Medication.package.content.item-ref-1": {
        "path": "Medication.package.content.item",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Medication.package.content.amount-qty-3": {
        "path": "Medication.package.content.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "MedicationAdministration": {
      "MedicationAdministration.text-txt-3": {
        "path": "MedicationAdministration.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "MedicationAdministration.text-txt-1": {
        "path": "MedicationAdministration.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "MedicationAdministration.text-txt-2": {
        "path": "MedicationAdministration.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "MedicationAdministration.patient-ref-1": {
        "path": "MedicationAdministration.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationAdministration.practitioner-ref-1": {
        "path": "MedicationAdministration.practitioner",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationAdministration.encounter-ref-1": {
        "path": "MedicationAdministration.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationAdministration.prescription-ref-1": {
        "path": "MedicationAdministration.prescription",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "mad-2": {
        "path": "MedicationAdministration.reasonNotGiven",
        "severity": "error",
        "human": "Reason not given is only permitted if wasNotGiven is true",
        "xpath": "not(exists(f:reasonNotGiven) and f:wasNotGiven/@value='false')"
      },
      "mad-3": {
        "path": "MedicationAdministration.reasonGiven",
        "severity": "error",
        "human": "Reason given is only permitted if wasNotGiven is false",
        "xpath": "not(exists(f:reasonGiven) and f:wasNotGiven/@value='true')"
      },
      "MedicationAdministration.effectiveTime[x]-per-1": {
        "path": "MedicationAdministration.effectiveTimePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "MedicationAdministration.medication[x]-ref-1": {
        "path": "MedicationAdministration.medicationReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationAdministration.device-ref-1": {
        "path": "MedicationAdministration.device",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "mad-1": {
        "path": "MedicationAdministration.dosage",
        "severity": "error",
        "human": "SHALL have at least one of dosage.quantity and dosage.rate",
        "xpath": "exists(f:quantity) or exists(f:rate)"
      },
      "MedicationAdministration.dosage.site[x]-ref-1": {
        "path": "MedicationAdministration.dosage.siteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationAdministration.dosage.quantity-qty-3": {
        "path": "MedicationAdministration.dosage.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationAdministration.dosage.rate[x]-rat-1": {
        "path": "MedicationAdministration.dosage.rateRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationAdministration.dosage.rate[x]-rng-2": {
        "path": "MedicationAdministration.dosage.rateRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      }
    },
    "MedicationDispense": {
      "mdd-1": {
        "path": "MedicationDispense",
        "severity": "error",
        "human": "whenHandedOver cannot be before whenPrepared",
        "xpath": "not(exists(f:whenHandedOver/@value)) or not(exists(f:whenPrepared/@value)) or ( f:whenHandedOver/@value >= f:whenPrepared/@value)"
      },
      "MedicationDispense.text-txt-3": {
        "path": "MedicationDispense.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "MedicationDispense.text-txt-1": {
        "path": "MedicationDispense.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "MedicationDispense.text-txt-2": {
        "path": "MedicationDispense.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "MedicationDispense.patient-ref-1": {
        "path": "MedicationDispense.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.dispenser-ref-1": {
        "path": "MedicationDispense.dispenser",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.authorizingPrescription-ref-1": {
        "path": "MedicationDispense.authorizingPrescription",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.quantity-qty-3": {
        "path": "MedicationDispense.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationDispense.daysSupply-qty-3": {
        "path": "MedicationDispense.daysSupply",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationDispense.medication[x]-ref-1": {
        "path": "MedicationDispense.medicationReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.destination-ref-1": {
        "path": "MedicationDispense.destination",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.receiver-ref-1": {
        "path": "MedicationDispense.receiver",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.dosageInstruction.timing-tim-6": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "MedicationDispense.dosageInstruction.timing-tim-7": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "MedicationDispense.dosageInstruction.timing-tim-1": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "MedicationDispense.dosageInstruction.timing-tim-2": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "MedicationDispense.dosageInstruction.timing-tim-3": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "MedicationDispense.dosageInstruction.timing-tim-4": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationDispense.dosageInstruction.timing-tim-5": {
        "path": "MedicationDispense.dosageInstruction.timing",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationDispense.dosageInstruction.site[x]-ref-1": {
        "path": "MedicationDispense.dosageInstruction.siteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationDispense.dosageInstruction.dose[x]-rng-2": {
        "path": "MedicationDispense.dosageInstruction.doseRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationDispense.dosageInstruction.dose[x]-qty-3": {
        "path": "MedicationDispense.dosageInstruction.doseQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationDispense.dosageInstruction.rate[x]-rat-1": {
        "path": "MedicationDispense.dosageInstruction.rateRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationDispense.dosageInstruction.rate[x]-rng-2": {
        "path": "MedicationDispense.dosageInstruction.rateRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationDispense.dosageInstruction.maxDosePerPeriod-rat-1": {
        "path": "MedicationDispense.dosageInstruction.maxDosePerPeriod",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationDispense.substitution.responsibleParty-ref-1": {
        "path": "MedicationDispense.substitution.responsibleParty",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "MedicationOrder": {
      "MedicationOrder.text-txt-3": {
        "path": "MedicationOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "MedicationOrder.text-txt-1": {
        "path": "MedicationOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "MedicationOrder.text-txt-2": {
        "path": "MedicationOrder.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "MedicationOrder.patient-ref-1": {
        "path": "MedicationOrder.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.prescriber-ref-1": {
        "path": "MedicationOrder.prescriber",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.encounter-ref-1": {
        "path": "MedicationOrder.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.reason[x]-ref-1": {
        "path": "MedicationOrder.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.medication[x]-ref-1": {
        "path": "MedicationOrder.medicationReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.dosageInstruction.timing-tim-6": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "MedicationOrder.dosageInstruction.timing-tim-7": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "MedicationOrder.dosageInstruction.timing-tim-1": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "MedicationOrder.dosageInstruction.timing-tim-2": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "MedicationOrder.dosageInstruction.timing-tim-3": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "MedicationOrder.dosageInstruction.timing-tim-4": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationOrder.dosageInstruction.timing-tim-5": {
        "path": "MedicationOrder.dosageInstruction.timing",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationOrder.dosageInstruction.site[x]-ref-1": {
        "path": "MedicationOrder.dosageInstruction.siteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.dosageInstruction.dose[x]-rng-2": {
        "path": "MedicationOrder.dosageInstruction.doseRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationOrder.dosageInstruction.dose[x]-qty-3": {
        "path": "MedicationOrder.dosageInstruction.doseQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationOrder.dosageInstruction.rate[x]-rat-1": {
        "path": "MedicationOrder.dosageInstruction.rateRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationOrder.dosageInstruction.rate[x]-rng-2": {
        "path": "MedicationOrder.dosageInstruction.rateRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationOrder.dosageInstruction.maxDosePerPeriod-rat-1": {
        "path": "MedicationOrder.dosageInstruction.maxDosePerPeriod",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationOrder.dispenseRequest.medication[x]-ref-1": {
        "path": "MedicationOrder.dispenseRequest.medicationReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationOrder.dispenseRequest.validityPeriod-per-1": {
        "path": "MedicationOrder.dispenseRequest.validityPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "MedicationOrder.dispenseRequest.quantity-qty-3": {
        "path": "MedicationOrder.dispenseRequest.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationOrder.dispenseRequest.expectedSupplyDuration-qty-3": {
        "path": "MedicationOrder.dispenseRequest.expectedSupplyDuration",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationOrder.priorPrescription-ref-1": {
        "path": "MedicationOrder.priorPrescription",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "MedicationStatement": {
      "mst-1": {
        "path": "MedicationStatement",
        "severity": "error",
        "human": "Reason not taken is only permitted if wasNotTaken is true",
        "xpath": "not(exists(f:reasonNotTaken) and f:wasNotTaken/@value='false')"
      },
      "mst-2": {
        "path": "MedicationStatement",
        "severity": "error",
        "human": "Reason for use is only permitted if wasNotTaken is false",
        "xpath": "not(exists(*[starts-with(local-name(.), 'reasonForUse')]) and f:wasNotTaken/@value='true')"
      },
      "MedicationStatement.text-txt-3": {
        "path": "MedicationStatement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "MedicationStatement.text-txt-1": {
        "path": "MedicationStatement.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "MedicationStatement.text-txt-2": {
        "path": "MedicationStatement.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "MedicationStatement.patient-ref-1": {
        "path": "MedicationStatement.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.informationSource-ref-1": {
        "path": "MedicationStatement.informationSource",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.reasonForUse[x]-ref-1": {
        "path": "MedicationStatement.reasonForUseReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.effective[x]-per-1": {
        "path": "MedicationStatement.effectivePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "MedicationStatement.supportingInformation-ref-1": {
        "path": "MedicationStatement.supportingInformation",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.medication[x]-ref-1": {
        "path": "MedicationStatement.medicationReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.dosage.timing-tim-6": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "MedicationStatement.dosage.timing-tim-7": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "MedicationStatement.dosage.timing-tim-1": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "MedicationStatement.dosage.timing-tim-2": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "MedicationStatement.dosage.timing-tim-3": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "MedicationStatement.dosage.timing-tim-4": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationStatement.dosage.timing-tim-5": {
        "path": "MedicationStatement.dosage.timing",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "MedicationStatement.dosage.site[x]-ref-1": {
        "path": "MedicationStatement.dosage.siteReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MedicationStatement.dosage.quantity[x]-qty-3": {
        "path": "MedicationStatement.dosage.quantityQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "MedicationStatement.dosage.quantity[x]-rng-2": {
        "path": "MedicationStatement.dosage.quantityRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationStatement.dosage.rate[x]-rat-1": {
        "path": "MedicationStatement.dosage.rateRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "MedicationStatement.dosage.rate[x]-rng-2": {
        "path": "MedicationStatement.dosage.rateRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "MedicationStatement.dosage.maxDosePerPeriod-rat-1": {
        "path": "MedicationStatement.dosage.maxDosePerPeriod",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      }
    },
    "MessageHeader": {
      "MessageHeader.text-txt-3": {
        "path": "MessageHeader.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "MessageHeader.text-txt-1": {
        "path": "MessageHeader.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "MessageHeader.text-txt-2": {
        "path": "MessageHeader.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "MessageHeader.response.details-ref-1": {
        "path": "MessageHeader.response.details",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.source.contact-cpt-2": {
        "path": "MessageHeader.source.contact",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "MessageHeader.destination.target-ref-1": {
        "path": "MessageHeader.destination.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.enterer-ref-1": {
        "path": "MessageHeader.enterer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.author-ref-1": {
        "path": "MessageHeader.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.receiver-ref-1": {
        "path": "MessageHeader.receiver",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.responsible-ref-1": {
        "path": "MessageHeader.responsible",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "MessageHeader.data-ref-1": {
        "path": "MessageHeader.data",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "NamingSystem": {
      "nsd-1": {
        "path": "NamingSystem",
        "severity": "error",
        "human": "Root systems cannot have uuid or sid identifiers",
        "xpath": "not(f:type/@value='root' and f:uniqueId/f:type=('uuid', 'ruid'))"
      },
      "nsd-3": {
        "path": "NamingSystem",
        "severity": "error",
        "human": "Can only have replacedBy if namingsystem is retired",
        "xpath": "not(f:replacedBy) or f:status/@value='retired'"
      },
      "nsd-2": {
        "path": "NamingSystem",
        "severity": "error",
        "human": "Can't have more than one preferred identifier for a type",
        "xpath": "not(exists(for $type in distinct-values(f:uniqueId/f:type) return if (count(f:uniqueId[f:type/@value=$type and f:primary/@value='true'])>1) then $type else ()))"
      },
      "NamingSystem.text-txt-3": {
        "path": "NamingSystem.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "NamingSystem.text-txt-1": {
        "path": "NamingSystem.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "NamingSystem.text-txt-2": {
        "path": "NamingSystem.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "NamingSystem.contact.telecom-cpt-2": {
        "path": "NamingSystem.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "NamingSystem.uniqueId.period-per-1": {
        "path": "NamingSystem.uniqueId.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "NamingSystem.replacedBy-ref-1": {
        "path": "NamingSystem.replacedBy",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "NutritionOrder": {
      "nor-1": {
        "path": "NutritionOrder",
        "severity": "warning",
        "human": "Nutrition Order SHALL contain either Oral Diet , Supplement, or Enteral Formula class",
        "xpath": "exists(f:oralDiet) or exists(f:supplement) or exists(f:enteralFormula)"
      },
      "NutritionOrder.text-txt-3": {
        "path": "NutritionOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "NutritionOrder.text-txt-1": {
        "path": "NutritionOrder.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "NutritionOrder.text-txt-2": {
        "path": "NutritionOrder.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "NutritionOrder.patient-ref-1": {
        "path": "NutritionOrder.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "NutritionOrder.orderer-ref-1": {
        "path": "NutritionOrder.orderer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "NutritionOrder.encounter-ref-1": {
        "path": "NutritionOrder.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "NutritionOrder.allergyIntolerance-ref-1": {
        "path": "NutritionOrder.allergyIntolerance",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "NutritionOrder.oralDiet.schedule-tim-6": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "NutritionOrder.oralDiet.schedule-tim-7": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "NutritionOrder.oralDiet.schedule-tim-1": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "NutritionOrder.oralDiet.schedule-tim-2": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "NutritionOrder.oralDiet.schedule-tim-3": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "NutritionOrder.oralDiet.schedule-tim-4": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.oralDiet.schedule-tim-5": {
        "path": "NutritionOrder.oralDiet.schedule",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.oralDiet.nutrient.amount-qty-3": {
        "path": "NutritionOrder.oralDiet.nutrient.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "NutritionOrder.supplement.schedule-tim-6": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "NutritionOrder.supplement.schedule-tim-7": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "NutritionOrder.supplement.schedule-tim-1": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "NutritionOrder.supplement.schedule-tim-2": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "NutritionOrder.supplement.schedule-tim-3": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "NutritionOrder.supplement.schedule-tim-4": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.supplement.schedule-tim-5": {
        "path": "NutritionOrder.supplement.schedule",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.supplement.quantity-qty-3": {
        "path": "NutritionOrder.supplement.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "NutritionOrder.enteralFormula.caloricDensity-qty-3": {
        "path": "NutritionOrder.enteralFormula.caloricDensity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-6": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-7": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-1": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-2": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-3": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-4": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.enteralFormula.administration.schedule-tim-5": {
        "path": "NutritionOrder.enteralFormula.administration.schedule",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "NutritionOrder.enteralFormula.administration.quantity-qty-3": {
        "path": "NutritionOrder.enteralFormula.administration.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "NutritionOrder.enteralFormula.administration.rate[x]-qty-3": {
        "path": "NutritionOrder.enteralFormula.administration.rateQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "NutritionOrder.enteralFormula.administration.rate[x]-rat-1": {
        "path": "NutritionOrder.enteralFormula.administration.rateRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "NutritionOrder.enteralFormula.maxVolumeToDeliver-qty-3": {
        "path": "NutritionOrder.enteralFormula.maxVolumeToDeliver",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "Observation": {
      "obs-7": {
        "path": "Observation",
        "severity": "error",
        "human": "Component code Shall not be same as observation code",
        "xpath": "not(exists(f:component.code/@value)) or (f:code/@value !=  f:component/f:code/@value)"
      },
      "obs-6": {
        "path": "Observation",
        "severity": "error",
        "human": "Shall only be present if Observation.value[x] is not present",
        "xpath": "not(exists(f:dataAbsentReason)) or (not(exists(*[starts-with(local-name(.), 'value')])))"
      },
      "Observation.text-txt-3": {
        "path": "Observation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Observation.text-txt-1": {
        "path": "Observation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Observation.text-txt-2": {
        "path": "Observation.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Observation.subject-ref-1": {
        "path": "Observation.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Observation.encounter-ref-1": {
        "path": "Observation.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Observation.effective[x]-per-1": {
        "path": "Observation.effectivePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Observation.performer-ref-1": {
        "path": "Observation.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Observation.value[x]-qty-3": {
        "path": "Observation.valueQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Observation.value[x]-rng-2": {
        "path": "Observation.valueRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Observation.value[x]-rat-1": {
        "path": "Observation.valueRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "Observation.value[x]-att-1": {
        "path": "Observation.valueAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Observation.value[x]-per-1": {
        "path": "Observation.valuePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Observation.specimen-ref-1": {
        "path": "Observation.specimen",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Observation.device-ref-1": {
        "path": "Observation.device",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "obs-3": {
        "path": "Observation.referenceRange",
        "severity": "error",
        "human": "Must have at least a low or a high or text",
        "xpath": "(exists(f:low) or exists(f:high)or exists(f:text))"
      },
      "Observation.referenceRange.low-qty-3": {
        "path": "Observation.referenceRange.low",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Observation.referenceRange.high-qty-3": {
        "path": "Observation.referenceRange.high",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Observation.referenceRange.age-rng-2": {
        "path": "Observation.referenceRange.age",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Observation.related.target-ref-1": {
        "path": "Observation.related.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Observation.component.value[x]-qty-3": {
        "path": "Observation.component.valueQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Observation.component.value[x]-rng-2": {
        "path": "Observation.component.valueRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "Observation.component.value[x]-rat-1": {
        "path": "Observation.component.valueRatio",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "Observation.component.value[x]-att-1": {
        "path": "Observation.component.valueAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Observation.component.value[x]-per-1": {
        "path": "Observation.component.valuePeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "OperationDefinition": {
      "OperationDefinition.text-txt-3": {
        "path": "OperationDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "OperationDefinition.text-txt-1": {
        "path": "OperationDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "OperationDefinition.text-txt-2": {
        "path": "OperationDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "OperationDefinition.contact.telecom-cpt-2": {
        "path": "OperationDefinition.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "OperationDefinition.base-ref-1": {
        "path": "OperationDefinition.base",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "opd-1": {
        "path": "OperationDefinition.parameter",
        "severity": "error",
        "human": "Either a type must be provided, or parts",
        "xpath": "exists(f:type) or exists(f:part)"
      },
      "OperationDefinition.parameter.profile-ref-1": {
        "path": "OperationDefinition.parameter.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "OperationDefinition.parameter.binding.valueSet[x]-ref-1": {
        "path": "OperationDefinition.parameter.binding.valueSetReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "OperationOutcome": {
      "OperationOutcome.text-txt-3": {
        "path": "OperationOutcome.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "OperationOutcome.text-txt-1": {
        "path": "OperationOutcome.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "OperationOutcome.text-txt-2": {
        "path": "OperationOutcome.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      }
    },
    "Order": {
      "Order.text-txt-3": {
        "path": "Order.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Order.text-txt-1": {
        "path": "Order.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Order.text-txt-2": {
        "path": "Order.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Order.subject-ref-1": {
        "path": "Order.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Order.source-ref-1": {
        "path": "Order.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Order.target-ref-1": {
        "path": "Order.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Order.reason[x]-ref-1": {
        "path": "Order.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ord-1": {
        "path": "Order.when",
        "severity": "error",
        "human": "Provide a code or a schedule, but not both",
        "xpath": "exists(f:code) != exists(f:schedule)"
      },
      "Order.when.schedule-tim-6": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "Order.when.schedule-tim-7": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "Order.when.schedule-tim-1": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "Order.when.schedule-tim-2": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "Order.when.schedule-tim-3": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "Order.when.schedule-tim-4": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "Order.when.schedule-tim-5": {
        "path": "Order.when.schedule",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "Order.detail-ref-1": {
        "path": "Order.detail",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "OrderResponse": {
      "OrderResponse.text-txt-3": {
        "path": "OrderResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "OrderResponse.text-txt-1": {
        "path": "OrderResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "OrderResponse.text-txt-2": {
        "path": "OrderResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "OrderResponse.request-ref-1": {
        "path": "OrderResponse.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "OrderResponse.who-ref-1": {
        "path": "OrderResponse.who",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "OrderResponse.fulfillment-ref-1": {
        "path": "OrderResponse.fulfillment",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Organization": {
      "org-1": {
        "path": "Organization",
        "severity": "error",
        "human": "The organization SHALL at least have a name or an id, and possibly more than one",
        "xpath": "count(f:identifier | f:name) > 0"
      },
      "Organization.text-txt-3": {
        "path": "Organization.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Organization.text-txt-1": {
        "path": "Organization.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Organization.text-txt-2": {
        "path": "Organization.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "org-3": {
        "path": "Organization.telecom",
        "severity": "error",
        "human": "The telecom of an organization can never be of use 'home'",
        "xpath": "count(f:use[@value='home']) = 0"
      },
      "Organization.telecom-cpt-2": {
        "path": "Organization.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "org-2": {
        "path": "Organization.address",
        "severity": "error",
        "human": "An address of an organization can never be of use 'home'",
        "xpath": "count(f:use[@value='home']) = 0"
      },
      "Organization.partOf-ref-1": {
        "path": "Organization.partOf",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Organization.contact.telecom-cpt-2": {
        "path": "Organization.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      }
    },
    "Patient": {
      "Patient.text-txt-3": {
        "path": "Patient.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Patient.text-txt-1": {
        "path": "Patient.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Patient.text-txt-2": {
        "path": "Patient.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Patient.telecom-cpt-2": {
        "path": "Patient.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Patient.photo-att-1": {
        "path": "Patient.photo",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "pat-1": {
        "path": "Patient.contact",
        "severity": "error",
        "human": "SHALL at least contain a contact's details or a reference to an organization",
        "xpath": "f:name or f:telecom or f:address or f:organization"
      },
      "Patient.contact.telecom-cpt-2": {
        "path": "Patient.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Patient.contact.organization-ref-1": {
        "path": "Patient.contact.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Patient.contact.period-per-1": {
        "path": "Patient.contact.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Patient.careProvider-ref-1": {
        "path": "Patient.careProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Patient.managingOrganization-ref-1": {
        "path": "Patient.managingOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Patient.link.other-ref-1": {
        "path": "Patient.link.other",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "PaymentNotice": {
      "PaymentNotice.text-txt-3": {
        "path": "PaymentNotice.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "PaymentNotice.text-txt-1": {
        "path": "PaymentNotice.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "PaymentNotice.text-txt-2": {
        "path": "PaymentNotice.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "PaymentNotice.target-ref-1": {
        "path": "PaymentNotice.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentNotice.provider-ref-1": {
        "path": "PaymentNotice.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentNotice.organization-ref-1": {
        "path": "PaymentNotice.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentNotice.request-ref-1": {
        "path": "PaymentNotice.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentNotice.response-ref-1": {
        "path": "PaymentNotice.response",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "PaymentReconciliation": {
      "PaymentReconciliation.text-txt-3": {
        "path": "PaymentReconciliation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "PaymentReconciliation.text-txt-1": {
        "path": "PaymentReconciliation.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "PaymentReconciliation.text-txt-2": {
        "path": "PaymentReconciliation.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "PaymentReconciliation.request-ref-1": {
        "path": "PaymentReconciliation.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.period-per-1": {
        "path": "PaymentReconciliation.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "PaymentReconciliation.organization-ref-1": {
        "path": "PaymentReconciliation.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.requestProvider-ref-1": {
        "path": "PaymentReconciliation.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.requestOrganization-ref-1": {
        "path": "PaymentReconciliation.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.detail.request-ref-1": {
        "path": "PaymentReconciliation.detail.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.detail.responce-ref-1": {
        "path": "PaymentReconciliation.detail.responce",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.detail.submitter-ref-1": {
        "path": "PaymentReconciliation.detail.submitter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.detail.payee-ref-1": {
        "path": "PaymentReconciliation.detail.payee",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "PaymentReconciliation.detail.amount-qty-3": {
        "path": "PaymentReconciliation.detail.amount",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "PaymentReconciliation.total-qty-3": {
        "path": "PaymentReconciliation.total",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    },
    "Person": {
      "Person.text-txt-3": {
        "path": "Person.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Person.text-txt-1": {
        "path": "Person.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Person.text-txt-2": {
        "path": "Person.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Person.telecom-cpt-2": {
        "path": "Person.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Person.photo-att-1": {
        "path": "Person.photo",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Person.managingOrganization-ref-1": {
        "path": "Person.managingOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Person.link.target-ref-1": {
        "path": "Person.link.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Practitioner": {
      "Practitioner.text-txt-3": {
        "path": "Practitioner.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Practitioner.text-txt-1": {
        "path": "Practitioner.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Practitioner.text-txt-2": {
        "path": "Practitioner.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Practitioner.telecom-cpt-2": {
        "path": "Practitioner.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "Practitioner.photo-att-1": {
        "path": "Practitioner.photo",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "Practitioner.practitionerRole.managingOrganization-ref-1": {
        "path": "Practitioner.practitionerRole.managingOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Practitioner.practitionerRole.period-per-1": {
        "path": "Practitioner.practitionerRole.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Practitioner.practitionerRole.location-ref-1": {
        "path": "Practitioner.practitionerRole.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Practitioner.practitionerRole.healthcareService-ref-1": {
        "path": "Practitioner.practitionerRole.healthcareService",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Practitioner.qualification.period-per-1": {
        "path": "Practitioner.qualification.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Practitioner.qualification.issuer-ref-1": {
        "path": "Practitioner.qualification.issuer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Procedure": {
      "Procedure.text-txt-3": {
        "path": "Procedure.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Procedure.text-txt-1": {
        "path": "Procedure.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Procedure.text-txt-2": {
        "path": "Procedure.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Procedure.subject-ref-1": {
        "path": "Procedure.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "pro-1": {
        "path": "Procedure.reasonNotPerformed",
        "severity": "error",
        "human": "Reason not performed is only permitted if notPerformed indicator is true",
        "xpath": "not(exists(f:reasonNotPerformed) and f:notPerformed/@value='false')"
      },
      "Procedure.reason[x]-ref-1": {
        "path": "Procedure.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.performer.actor-ref-1": {
        "path": "Procedure.performer.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.performed[x]-per-1": {
        "path": "Procedure.performedPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Procedure.encounter-ref-1": {
        "path": "Procedure.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.location-ref-1": {
        "path": "Procedure.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.report-ref-1": {
        "path": "Procedure.report",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.request-ref-1": {
        "path": "Procedure.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.focalDevice.manipulated-ref-1": {
        "path": "Procedure.focalDevice.manipulated",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Procedure.used-ref-1": {
        "path": "Procedure.used",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ProcedureRequest": {
      "ProcedureRequest.text-txt-3": {
        "path": "ProcedureRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ProcedureRequest.text-txt-1": {
        "path": "ProcedureRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ProcedureRequest.text-txt-2": {
        "path": "ProcedureRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ProcedureRequest.subject-ref-1": {
        "path": "ProcedureRequest.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcedureRequest.reason[x]-ref-1": {
        "path": "ProcedureRequest.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcedureRequest.scheduled[x]-per-1": {
        "path": "ProcedureRequest.scheduledPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "ProcedureRequest.scheduled[x]-tim-6": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "ProcedureRequest.scheduled[x]-tim-7": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "ProcedureRequest.scheduled[x]-tim-1": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "ProcedureRequest.scheduled[x]-tim-2": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "ProcedureRequest.scheduled[x]-tim-3": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "ProcedureRequest.scheduled[x]-tim-4": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "ProcedureRequest.scheduled[x]-tim-5": {
        "path": "ProcedureRequest.scheduledTiming",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "ProcedureRequest.encounter-ref-1": {
        "path": "ProcedureRequest.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcedureRequest.performer-ref-1": {
        "path": "ProcedureRequest.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcedureRequest.orderer-ref-1": {
        "path": "ProcedureRequest.orderer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ProcessRequest": {
      "ProcessRequest.text-txt-3": {
        "path": "ProcessRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ProcessRequest.text-txt-1": {
        "path": "ProcessRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ProcessRequest.text-txt-2": {
        "path": "ProcessRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ProcessRequest.target-ref-1": {
        "path": "ProcessRequest.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessRequest.provider-ref-1": {
        "path": "ProcessRequest.provider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessRequest.organization-ref-1": {
        "path": "ProcessRequest.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessRequest.request-ref-1": {
        "path": "ProcessRequest.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessRequest.response-ref-1": {
        "path": "ProcessRequest.response",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessRequest.period-per-1": {
        "path": "ProcessRequest.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "ProcessResponse": {
      "ProcessResponse.text-txt-3": {
        "path": "ProcessResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ProcessResponse.text-txt-1": {
        "path": "ProcessResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ProcessResponse.text-txt-2": {
        "path": "ProcessResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ProcessResponse.request-ref-1": {
        "path": "ProcessResponse.request",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessResponse.organization-ref-1": {
        "path": "ProcessResponse.organization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessResponse.requestProvider-ref-1": {
        "path": "ProcessResponse.requestProvider",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ProcessResponse.requestOrganization-ref-1": {
        "path": "ProcessResponse.requestOrganization",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Provenance": {
      "Provenance.text-txt-3": {
        "path": "Provenance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Provenance.text-txt-1": {
        "path": "Provenance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Provenance.text-txt-2": {
        "path": "Provenance.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Provenance.target-ref-1": {
        "path": "Provenance.target",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Provenance.period-per-1": {
        "path": "Provenance.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Provenance.location-ref-1": {
        "path": "Provenance.location",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Provenance.agent.actor-ref-1": {
        "path": "Provenance.agent.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Questionnaire": {
      "que-3": {
        "path": "Questionnaire",
        "severity": "error",
        "human": "If root group must be \"required\"",
        "xpath": "f:group/f:required/@value='true'"
      },
      "que-2": {
        "path": "Questionnaire",
        "severity": "error",
        "human": "The link ids for groups and questions must be unique within the questionnaire",
        "xpath": "count(descendant::f:linkId/@value)=count(distinct-values(descendant::f:linkId/@value))"
      },
      "Questionnaire.text-txt-3": {
        "path": "Questionnaire.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Questionnaire.text-txt-1": {
        "path": "Questionnaire.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Questionnaire.text-txt-2": {
        "path": "Questionnaire.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Questionnaire.telecom-cpt-2": {
        "path": "Questionnaire.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "que-1": {
        "path": "Questionnaire.group",
        "severity": "error",
        "human": "Groups may either contain questions or groups but not both",
        "xpath": "not(exists(f:group) and exists(f:question))"
      },
      "que-4": {
        "path": "Questionnaire.group.question",
        "severity": "error",
        "human": "A question must use either option or options, not both",
        "xpath": "not(f:options and f:option)"
      },
      "Questionnaire.group.question.options-ref-1": {
        "path": "Questionnaire.group.question.options",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "QuestionnaireResponse": {
      "QuestionnaireResponse.text-txt-3": {
        "path": "QuestionnaireResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "QuestionnaireResponse.text-txt-1": {
        "path": "QuestionnaireResponse.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "QuestionnaireResponse.text-txt-2": {
        "path": "QuestionnaireResponse.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "QuestionnaireResponse.questionnaire-ref-1": {
        "path": "QuestionnaireResponse.questionnaire",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "QuestionnaireResponse.subject-ref-1": {
        "path": "QuestionnaireResponse.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "QuestionnaireResponse.author-ref-1": {
        "path": "QuestionnaireResponse.author",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "QuestionnaireResponse.source-ref-1": {
        "path": "QuestionnaireResponse.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "QuestionnaireResponse.encounter-ref-1": {
        "path": "QuestionnaireResponse.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "qrs-1": {
        "path": "QuestionnaireResponse.group",
        "severity": "error",
        "human": "Groups may either contain questions or groups but not both",
        "xpath": "not(exists(f:group) and exists(f:question))"
      },
      "QuestionnaireResponse.group.subject-ref-1": {
        "path": "QuestionnaireResponse.group.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "QuestionnaireResponse.group.question.answer.value[x]-att-1": {
        "path": "QuestionnaireResponse.group.question.answer.valueAttachment",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "QuestionnaireResponse.group.question.answer.value[x]-qty-3": {
        "path": "QuestionnaireResponse.group.question.answer.valueQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "QuestionnaireResponse.group.question.answer.value[x]-ref-1": {
        "path": "QuestionnaireResponse.group.question.answer.valueReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "ReferralRequest": {
      "ReferralRequest.text-txt-3": {
        "path": "ReferralRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "ReferralRequest.text-txt-1": {
        "path": "ReferralRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "ReferralRequest.text-txt-2": {
        "path": "ReferralRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "ReferralRequest.patient-ref-1": {
        "path": "ReferralRequest.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ReferralRequest.requester-ref-1": {
        "path": "ReferralRequest.requester",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ReferralRequest.recipient-ref-1": {
        "path": "ReferralRequest.recipient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ReferralRequest.encounter-ref-1": {
        "path": "ReferralRequest.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ReferralRequest.supportingInformation-ref-1": {
        "path": "ReferralRequest.supportingInformation",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ReferralRequest.fulfillmentTime-per-1": {
        "path": "ReferralRequest.fulfillmentTime",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "RelatedPerson": {
      "RelatedPerson.text-txt-3": {
        "path": "RelatedPerson.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "RelatedPerson.text-txt-1": {
        "path": "RelatedPerson.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "RelatedPerson.text-txt-2": {
        "path": "RelatedPerson.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "RelatedPerson.patient-ref-1": {
        "path": "RelatedPerson.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "RelatedPerson.telecom-cpt-2": {
        "path": "RelatedPerson.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "RelatedPerson.photo-att-1": {
        "path": "RelatedPerson.photo",
        "severity": "error",
        "human": "It the Attachment has data, it SHALL have a contentType",
        "xpath": "not(exists(f:data)) or exists(f:contentType)"
      },
      "RelatedPerson.period-per-1": {
        "path": "RelatedPerson.period",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "RiskAssessment": {
      "RiskAssessment.text-txt-3": {
        "path": "RiskAssessment.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "RiskAssessment.text-txt-1": {
        "path": "RiskAssessment.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "RiskAssessment.text-txt-2": {
        "path": "RiskAssessment.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "RiskAssessment.subject-ref-1": {
        "path": "RiskAssessment.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "RiskAssessment.condition-ref-1": {
        "path": "RiskAssessment.condition",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "RiskAssessment.encounter-ref-1": {
        "path": "RiskAssessment.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "RiskAssessment.performer-ref-1": {
        "path": "RiskAssessment.performer",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "RiskAssessment.basis-ref-1": {
        "path": "RiskAssessment.basis",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "ras-1": {
        "path": "RiskAssessment.prediction.probability[x]",
        "severity": "error",
        "human": "low and high must be percentages, if present",
        "xpath": "(not(f:low) or f:low[f:code/@value='%' and f:system/@value='http://unitsofmeasure.org']) and (not(f:high) or f:high[f:code/@value='%' and f:system/@value='http://unitsofmeasure.org'])"
      },
      "ras-2": {
        "path": "RiskAssessment.prediction.probability[x]",
        "severity": "error",
        "human": "Must be <= 100",
        "xpath": "@value <= 100"
      },
      "RiskAssessment.prediction.probability[x]-rng-2": {
        "path": "RiskAssessment.prediction.probabilityRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      },
      "RiskAssessment.prediction.when[x]-per-1": {
        "path": "RiskAssessment.prediction.whenPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "RiskAssessment.prediction.when[x]-rng-2": {
        "path": "RiskAssessment.prediction.whenRange",
        "severity": "error",
        "human": "If present, low SHALL have a lower value than high",
        "xpath": "not(exists(f:low/f:value/@value)) or not(exists(f:high/f:value/@value)) or (number(f:low/f:value/@value) <= number(f:high/f:value/@value))"
      }
    },
    "Schedule": {
      "Schedule.text-txt-3": {
        "path": "Schedule.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Schedule.text-txt-1": {
        "path": "Schedule.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Schedule.text-txt-2": {
        "path": "Schedule.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Schedule.actor-ref-1": {
        "path": "Schedule.actor",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Schedule.planningHorizon-per-1": {
        "path": "Schedule.planningHorizon",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      }
    },
    "SearchParameter": {
      "spd-1": {
        "path": "SearchParameter",
        "severity": "error",
        "human": "If an xpath is present, there SHALL be be an xpathUsage",
        "xpath": "not(exists(f:xpath)) or exists(f:xpathUsage)"
      },
      "SearchParameter.text-txt-3": {
        "path": "SearchParameter.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "SearchParameter.text-txt-1": {
        "path": "SearchParameter.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "SearchParameter.text-txt-2": {
        "path": "SearchParameter.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "SearchParameter.contact.telecom-cpt-2": {
        "path": "SearchParameter.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      }
    },
    "Slot": {
      "Slot.text-txt-3": {
        "path": "Slot.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Slot.text-txt-1": {
        "path": "Slot.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Slot.text-txt-2": {
        "path": "Slot.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Slot.schedule-ref-1": {
        "path": "Slot.schedule",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "Specimen": {
      "Specimen.text-txt-3": {
        "path": "Specimen.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Specimen.text-txt-1": {
        "path": "Specimen.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Specimen.text-txt-2": {
        "path": "Specimen.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Specimen.parent-ref-1": {
        "path": "Specimen.parent",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Specimen.subject-ref-1": {
        "path": "Specimen.subject",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Specimen.collection.collector-ref-1": {
        "path": "Specimen.collection.collector",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Specimen.collection.collected[x]-per-1": {
        "path": "Specimen.collection.collectedPeriod",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "Specimen.collection.quantity-qty-3": {
        "path": "Specimen.collection.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Specimen.treatment.additive-ref-1": {
        "path": "Specimen.treatment.additive",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "Specimen.container.capacity-qty-3": {
        "path": "Specimen.container.capacity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Specimen.container.specimenQuantity-qty-3": {
        "path": "Specimen.container.specimenQuantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Specimen.container.additive[x]-ref-1": {
        "path": "Specimen.container.additiveReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "StructureDefinition": {
      "sdf-9": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "In any snapshot or differential, no label, code or requirements on the an element without a \".\" in the path (e.g. the first element)",
        "xpath": "not(exists(f:snapshot/f:element[not(contains(f:path/@value, '.')) and (f:label or f:code or f:requirements)])) and not(exists(f:differential/f:element[not(contains(f:path/@value, '.')) and (f:label or f:code or f:requirements)]))"
      },
      "sdf-8": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "In any snapshot or differential, all the elements except the first have to have a path that starts with the path of the first + \".\"",
        "xpath": "string-join(for $elementName in f:*[self::f:snapshot or self::f:differential]/f:element[position()>1]/f:path/@value return if (starts-with($elementName, concat($elementName/ancestor::f:element/parent::f:*/f:element[1]/f:path/@value, '.'))) then '' else $elementName,'')=''"
      },
      "sdf-12": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "element.base cannot appear if theres's no base on the structure definition",
        "xpath": "f:base or not(exists(f:snapshot/f:element/f:base) or exists(f:differential/f:element/f:base))"
      },
      "sdf-11": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "If there's a constrained type, its content must match the path name in the first element of a snapshot",
        "xpath": "not(exists(f:constrainedType)) or not(exists(f:snapshot)) or (f:constrainedType/@value = f:snapshot/f:element[1]/f:path/@value)"
      },
      "sdf-13": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "element.base must appear if theres's a base on the structure definition",
        "xpath": "not(f:constrainedType) or not(f:snapshot/f:element[not(f:base)])"
      },
      "sdf-10": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "If the structure is not abstract, or there's a constrained type, then there SHALL be a base",
        "xpath": "(f:abstract/@value='true') or not(exists(f:constrainedType)) or exists(f:base)"
      },
      "sdf-7": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "If the structure describes a base Resource or Type, the url has to start with \"http://hl7.org/fhir/StructureDefinition/\" and the tail must match the name",
        "xpath": "not(exists(constrainedType)) or f:url/@value=concat('http://hl7.org/fhir/StructureDefinition/', f:name/@value)"
      },
      "sdf-6": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "A structure must have either a differential, or a snapshot (or both)",
        "xpath": "exists(f:snapshot) or exists(f:differential)"
      },
      "sdf-5": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "If the structure defines an extension then the structure must have context information",
        "xpath": "not(f:constrainedType/@value = 'extension') or (exists(f:context) and exists(f:contextType))"
      },
      "sdf-4": {
        "path": "StructureDefinition",
        "severity": "error",
        "human": "A structure must have a base unless abstract = true",
        "xpath": "(f:abstract/@value = 'true') or exists(f:base)"
      },
      "StructureDefinition.text-txt-3": {
        "path": "StructureDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "StructureDefinition.text-txt-1": {
        "path": "StructureDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "StructureDefinition.text-txt-2": {
        "path": "StructureDefinition.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "StructureDefinition.contact.telecom-cpt-2": {
        "path": "StructureDefinition.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "sdf-2": {
        "path": "StructureDefinition.mapping",
        "severity": "error",
        "human": "Must have at a name or a uri (or both)",
        "xpath": "exists(f:uri) or exists(f:name)"
      },
      "sdf-3": {
        "path": "StructureDefinition.snapshot",
        "severity": "error",
        "human": "If a structure is a snapshot, then each element definition must have a formal definition, and cardinalities",
        "xpath": "exists(f:base) or (count(f:element) = count(f:element[exists(f:definition) and exists(f:min) and exists(f:max)]))"
      },
      "sdf-1": {
        "path": "StructureDefinition.snapshot",
        "severity": "error",
        "human": "Element paths must be unique - or not (LM)",
        "xpath": "count(f:element) >= count(distinct-values(f:element/f:path/@value))"
      },
      "StructureDefinition.snapshot.element-eld-2": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Min <= Max",
        "xpath": "not(exists(f:min)) or not(exists(f:max)) or (not(f:max/@value) and not(f:min/@value)) or (f:max/@value = '*') or (f:max/@value >= f:min/@value)"
      },
      "StructureDefinition.snapshot.element-eld-5": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Either a namereference or a fixed value (but not both) is permitted",
        "xpath": "not(exists(f:nameReference) and exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "StructureDefinition.snapshot.element-eld-7": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Pattern may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or (count(f:type)=1 )"
      },
      "StructureDefinition.snapshot.element-eld-6": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Fixed value may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or (count(f:type)=1 )"
      },
      "StructureDefinition.snapshot.element-eld-11": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Binding can only be present for coded elements, string, and uri",
        "xpath": "not(exists(f:binding)) or (count(f:type/f:code) = 0) or  f:type/f:code/@value=('code','Coding','CodeableConcept','Quantity','Extension', 'string', 'uri')"
      },
      "StructureDefinition.snapshot.element-eld-8": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Pattern and value are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or not(exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "StructureDefinition.snapshot.element-eld-14": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Constraints must be unique by key",
        "xpath": "count(f:constraint) = count(distinct-values(f:constraint/f:key/@value))"
      },
      "StructureDefinition.snapshot.element-eld-13": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Types must be unique by the combination of code and profile",
        "xpath": "not(exists(for $type in f:type return $type/preceding-sibling::f:type[f:code/@value=$type/f:code/@value and f:profile/@value = $type/f:profile/@value]))"
      },
      "StructureDefinition.snapshot.element-eld-15": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "default value and meaningWhenMissing are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or not(exists(f:meaningWhenMissing))"
      },
      "StructureDefinition.snapshot.element-eld-1": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "If there are no discriminators, there must be a definition",
        "xpath": "(f:discriminator) or (f:definition)"
      },
      "StructureDefinition.snapshot.element-eld-3": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Max SHALL be a number or \"*\"",
        "xpath": "@value='*' or (normalize-space(@value)!='' and normalize-space(translate(@value, '0123456789',''))='')"
      },
      "StructureDefinition.snapshot.element-eld-4": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Aggregation may only be specified if one of the allowed types for the element is a resource",
        "xpath": "not(exists(f:aggregation)) or exists(f:code[@value = 'Reference'])"
      },
      "StructureDefinition.snapshot.element-eld-10": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "provide either a reference or a description (or both)",
        "xpath": "(exists(f:valueSetUri) or exists(f:valueSetReference)) or exists(f:description)"
      },
      "StructureDefinition.snapshot.element-eld-9": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "Example value sets are always extensible",
        "xpath": "not(f:conformance/@value='example' and f:isExtensible/@value='false')"
      },
      "StructureDefinition.snapshot.element-eld-12": {
        "path": "StructureDefinition.snapshot.element",
        "severity": "error",
        "human": "uri SHALL start with http:// or https://",
        "xpath": "starts-with(@value, 'http:') or starts-with(@value, 'https:')"
      },
      "StructureDefinition.differential.element-eld-2": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Min <= Max",
        "xpath": "not(exists(f:min)) or not(exists(f:max)) or (not(f:max/@value) and not(f:min/@value)) or (f:max/@value = '*') or (f:max/@value >= f:min/@value)"
      },
      "StructureDefinition.differential.element-eld-5": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Either a namereference or a fixed value (but not both) is permitted",
        "xpath": "not(exists(f:nameReference) and exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "StructureDefinition.differential.element-eld-7": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Pattern may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or (count(f:type)=1 )"
      },
      "StructureDefinition.differential.element-eld-6": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Fixed value may only be specified if there is one type",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or (count(f:type)=1 )"
      },
      "StructureDefinition.differential.element-eld-11": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Binding can only be present for coded elements, string, and uri",
        "xpath": "not(exists(f:binding)) or (count(f:type/f:code) = 0) or  f:type/f:code/@value=('code','Coding','CodeableConcept','Quantity','Extension', 'string', 'uri')"
      },
      "StructureDefinition.differential.element-eld-8": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Pattern and value are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'pattern')])) or not(exists(f:*[starts-with(local-name(.), 'value')]))"
      },
      "StructureDefinition.differential.element-eld-14": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Constraints must be unique by key",
        "xpath": "count(f:constraint) = count(distinct-values(f:constraint/f:key/@value))"
      },
      "StructureDefinition.differential.element-eld-13": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Types must be unique by the combination of code and profile",
        "xpath": "not(exists(for $type in f:type return $type/preceding-sibling::f:type[f:code/@value=$type/f:code/@value and f:profile/@value = $type/f:profile/@value]))"
      },
      "StructureDefinition.differential.element-eld-15": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "default value and meaningWhenMissing are mutually exclusive",
        "xpath": "not(exists(f:*[starts-with(local-name(.), 'fixed')])) or not(exists(f:meaningWhenMissing))"
      },
      "StructureDefinition.differential.element-eld-1": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "If there are no discriminators, there must be a definition",
        "xpath": "(f:discriminator) or (f:definition)"
      },
      "StructureDefinition.differential.element-eld-3": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Max SHALL be a number or \"*\"",
        "xpath": "@value='*' or (normalize-space(@value)!='' and normalize-space(translate(@value, '0123456789',''))='')"
      },
      "StructureDefinition.differential.element-eld-4": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Aggregation may only be specified if one of the allowed types for the element is a resource",
        "xpath": "not(exists(f:aggregation)) or exists(f:code[@value = 'Reference'])"
      },
      "StructureDefinition.differential.element-eld-10": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "provide either a reference or a description (or both)",
        "xpath": "(exists(f:valueSetUri) or exists(f:valueSetReference)) or exists(f:description)"
      },
      "StructureDefinition.differential.element-eld-9": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "Example value sets are always extensible",
        "xpath": "not(f:conformance/@value='example' and f:isExtensible/@value='false')"
      },
      "StructureDefinition.differential.element-eld-12": {
        "path": "StructureDefinition.differential.element",
        "severity": "error",
        "human": "uri SHALL start with http:// or https://",
        "xpath": "starts-with(@value, 'http:') or starts-with(@value, 'https:')"
      }
    },
    "Subscription": {
      "Subscription.text-txt-3": {
        "path": "Subscription.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Subscription.text-txt-1": {
        "path": "Subscription.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Subscription.text-txt-2": {
        "path": "Subscription.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Subscription.contact-cpt-2": {
        "path": "Subscription.contact",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      }
    },
    "Substance": {
      "Substance.text-txt-3": {
        "path": "Substance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "Substance.text-txt-1": {
        "path": "Substance.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "Substance.text-txt-2": {
        "path": "Substance.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "Substance.instance.quantity-qty-3": {
        "path": "Substance.instance.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "Substance.ingredient.quantity-rat-1": {
        "path": "Substance.ingredient.quantity",
        "severity": "error",
        "human": "numerator and denominator SHALL both be present, or both be absent. If both are absent, there SHALL be some extension present",
        "xpath": "(count(f:numerator) = count(f:denominator)) and ((count(f:numerator) > 0) or (count(f:extension) > 0))"
      },
      "Substance.ingredient.substance-ref-1": {
        "path": "Substance.ingredient.substance",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "SupplyDelivery": {
      "SupplyDelivery.text-txt-3": {
        "path": "SupplyDelivery.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "SupplyDelivery.text-txt-1": {
        "path": "SupplyDelivery.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "SupplyDelivery.text-txt-2": {
        "path": "SupplyDelivery.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "SupplyDelivery.patient-ref-1": {
        "path": "SupplyDelivery.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyDelivery.quantity-qty-3": {
        "path": "SupplyDelivery.quantity",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      },
      "SupplyDelivery.suppliedItem-ref-1": {
        "path": "SupplyDelivery.suppliedItem",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyDelivery.supplier-ref-1": {
        "path": "SupplyDelivery.supplier",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyDelivery.whenPrepared-per-1": {
        "path": "SupplyDelivery.whenPrepared",
        "severity": "error",
        "human": "If present, start SHALL have a lower value than end",
        "xpath": "not(exists(f:start)) or not(exists(f:end)) or dateTime_less_than(f:start/@value, f:end/@value)"
      },
      "SupplyDelivery.destination-ref-1": {
        "path": "SupplyDelivery.destination",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyDelivery.receiver-ref-1": {
        "path": "SupplyDelivery.receiver",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      }
    },
    "SupplyRequest": {
      "SupplyRequest.text-txt-3": {
        "path": "SupplyRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "SupplyRequest.text-txt-1": {
        "path": "SupplyRequest.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "SupplyRequest.text-txt-2": {
        "path": "SupplyRequest.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "SupplyRequest.patient-ref-1": {
        "path": "SupplyRequest.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyRequest.source-ref-1": {
        "path": "SupplyRequest.source",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyRequest.orderedItem-ref-1": {
        "path": "SupplyRequest.orderedItem",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyRequest.supplier-ref-1": {
        "path": "SupplyRequest.supplier",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyRequest.reason[x]-ref-1": {
        "path": "SupplyRequest.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "SupplyRequest.when.schedule-tim-6": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "If there's a periodMax, there must be a period",
        "xpath": "not(exists(f:periodMax)) or exists(period)"
      },
      "SupplyRequest.when.schedule-tim-7": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "If there's a durationMax, there must be a duration",
        "xpath": "not(exists(f:durationMax)) or exists(duration)"
      },
      "SupplyRequest.when.schedule-tim-1": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "if there's a duration, there needs to be duration units",
        "xpath": "not(exists(f:duration)) or exists(f:durationUnits)"
      },
      "SupplyRequest.when.schedule-tim-2": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "if there's a period, there needs to be duration units",
        "xpath": "not(exists(f:period)) or exists(f:periodUnits)"
      },
      "SupplyRequest.when.schedule-tim-3": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "Either frequency or when can exist, not both",
        "xpath": "not(exists(f:frequency)) or not(exists(f:when))"
      },
      "SupplyRequest.when.schedule-tim-4": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "duration SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      },
      "SupplyRequest.when.schedule-tim-5": {
        "path": "SupplyRequest.when.schedule",
        "severity": "error",
        "human": "period SHALL be a non-negative value",
        "xpath": "@value >= 0 or not(@value)"
      }
    },
    "TestScript": {
      "inv-16": {
        "path": "TestScript",
        "severity": "error",
        "human": "Assertions SHALL be present in TestScript.setup.action and TestScript.test.action only.",
        "xpath": "not(f:assert)"
      },
      "inv-15": {
        "path": "TestScript",
        "severity": "error",
        "human": "Operations SHALL be present in TestScript.setup.action, TestScript.test.action and TestScript.teardown.action only.",
        "xpath": "not(f:operation)"
      },
      "TestScript.text-txt-3": {
        "path": "TestScript.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "TestScript.text-txt-1": {
        "path": "TestScript.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "TestScript.text-txt-2": {
        "path": "TestScript.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "TestScript.contact.telecom-cpt-2": {
        "path": "TestScript.contact.telecom",
        "severity": "error",
        "human": "A system is required if a value is provided.",
        "xpath": "not(exists(f:value)) or exists(f:system)"
      },
      "inv-5": {
        "path": "TestScript.metadata",
        "severity": "error",
        "human": "TestScript metadata capability SHALL contain required or validated or both.",
        "xpath": "f:capability/f:required or f:capability/f:validated or (f:capability/f:required and f:capability/f:validated)"
      },
      "TestScript.metadata.capability.conformance-ref-1": {
        "path": "TestScript.metadata.capability.conformance",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "TestScript.fixture.resource-ref-1": {
        "path": "TestScript.fixture.resource",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "TestScript.profile-ref-1": {
        "path": "TestScript.profile",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "inv-4": {
        "path": "TestScript.variable",
        "severity": "error",
        "human": "Variable cannot contain both headerField and path.",
        "xpath": "not(f:headerField and f:path)"
      },
      "inv-6": {
        "path": "TestScript.setup.metadata",
        "severity": "error",
        "human": "Setup metadata capability SHALL contain required or validated or both.",
        "xpath": "f:capability/f:required or f:capability/f:validated or (f:capability/f:required and f:capability/f:validated)"
      },
      "inv-1": {
        "path": "TestScript.setup.action",
        "severity": "error",
        "human": "Setup action SHALL contain either an operation or assert but not both.",
        "xpath": "(f:operation or f:assert) and not(f:operation and f:assert)"
      },
      "inv-10": {
        "path": "TestScript.setup.action.operation",
        "severity": "error",
        "human": "Setup operation SHALL contain either sourceId or targetId or params or url.",
        "xpath": "f:sourceId or ((f:targetId or f:url or f:params) and (count(f:targetId) + count(f:url) + count(f:params) =1)) or (f:type/f:code/@value='conformance' or f:type/f:code/@value='search' or f:type/f:code/@value='transaction' or f:type/f:code/@value='history')"
      },
      "inv-8": {
        "path": "TestScript.setup.action.assert",
        "severity": "error",
        "human": "Only a single assertion SHALL be present within setup action assert element.",
        "xpath": "count(f:contentType) + count(f:headerField) + count(f:minimumId) + count(f:navigationLinks) + count(f:path) + count(f:resource) + count(f:responseCode) + count(f:response) + count(f:validateProfileId)  <=1"
      },
      "inv-13": {
        "path": "TestScript.setup.action.assert",
        "severity": "error",
        "human": "Setup action assert shall contain both compareToSourceId and compareToSourcePath or neither.",
        "xpath": "(f:compareToSourceId and f:compareToSourcePath) or not(f:compareToSourceId or f:compareToSourcePath)"
      },
      "inv-7": {
        "path": "TestScript.test.metadata",
        "severity": "error",
        "human": "Test metadata capability SHALL contain required or validated or both.",
        "xpath": "f:capability/f:required or f:capability/f:validated or (f:capability/f:required and f:capability/f:validated)"
      },
      "inv-2": {
        "path": "TestScript.test.action",
        "severity": "error",
        "human": "Test action SHALL contain either an operation or assert but not both.",
        "xpath": "(f:operation or f:assert) and not(f:operation and f:assert)"
      },
      "inv-11": {
        "path": "TestScript.test.action.operation",
        "severity": "error",
        "human": "Test operation SHALL contain either sourceId or targetId or params or url.",
        "xpath": "f:sourceId or (f:targetId or f:url or f:params) and (count(f:targetId) + count(f:url) + count(f:params) =1) or (f:type/f:code/@value='conformance' or f:type/f:code/@value='search' or f:type/f:code/@value='transaction' or f:type/f:code/@value='history')"
      },
      "inv-9": {
        "path": "TestScript.test.action.assert",
        "severity": "error",
        "human": "Only a single assertion SHALL be present within test action assert element.",
        "xpath": "count(f:contentType) + count(f:headerField) + count(f:minimumId) + count(f:navigationLinks) + count(f:path) + count(f:resource) + count(f:responseCode) + count(f:response) + count(f:validateProfileId)  <=1"
      },
      "inv-14": {
        "path": "TestScript.test.action.assert",
        "severity": "error",
        "human": "Test action assert shall contain both compareToSourceId and compareToSourcePath or neither.",
        "xpath": "(f:compareToSourceId and f:compareToSourcePath) or not(f:compareToSourceId or f:compareToSourcePath)"
      },
      "inv-3": {
        "path": "TestScript.teardown.action",
        "severity": "error",
        "human": "Teardown action SHALL contain an operation.",
        "xpath": "f:operation"
      },
      "inv-12": {
        "path": "TestScript.teardown.action.operation",
        "severity": "error",
        "human": "Teardown operation SHALL contain either sourceId or targetId or params or url.",
        "xpath": "f:sourceId or (f:targetId or f:url or (f:params and f:resource)) and (count(f:targetId) + count(f:url) + count(f:params) =1) or (f:type/f:code/@value='conformance' or f:type/f:code/@value='search' or f:type/f:code/@value='transaction' or f:type/f:code/@value='history')"
      }
    },
    "VisionPrescription": {
      "VisionPrescription.text-txt-3": {
        "path": "VisionPrescription.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"
      },
      "VisionPrescription.text-txt-1": {
        "path": "VisionPrescription.text",
        "severity": "error",
        "human": "The narrative SHALL contain only the basic html formatting elements described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes",
        "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))])"
      },
      "VisionPrescription.text-txt-2": {
        "path": "VisionPrescription.text",
        "severity": "error",
        "human": "The narrative SHALL have some non-whitespace content",
        "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"
      },
      "VisionPrescription.patient-ref-1": {
        "path": "VisionPrescription.patient",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "VisionPrescription.prescriber-ref-1": {
        "path": "VisionPrescription.prescriber",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "VisionPrescription.encounter-ref-1": {
        "path": "VisionPrescription.encounter",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "VisionPrescription.reason[x]-ref-1": {
        "path": "VisionPrescription.reasonReference",
        "severity": "error",
        "human": "SHALL have a local reference if the resource is provided inline",
        "xpath": "not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current(.)/f:reference/@value, '#')])"
      },
      "VisionPrescription.dispense.duration-qty-3": {
        "path": "VisionPrescription.dispense.duration",
        "severity": "error",
        "human": "If a code for the units is present, the system SHALL also be present",
        "xpath": "not(exists(f:code)) or exists(f:system)"
      }
    }
  }
}